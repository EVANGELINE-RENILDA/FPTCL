<ng-template #breadCrumb>
    <div class="breadcrumb">
        <ul>
            <li class="screen-name link">
                <ion-icon src="assets/icons/budget.svg"></ion-icon>
                <div class="screen-text">Budget</div>
            </li>
            <li class="screen-name">
                <div class="screen-text">Budget Request</div>
            </li>
            <li class="screen-name">
                <div class="screen-text">Details</div>
            </li>
        </ul>
    </div>
</ng-template>

<div class="content-wrapper">
    <app-multi-page-url
        url="/home/budget/configuration/budget-configuration/budget-configuration-detail"></app-multi-page-url>
    <div class="sticky-card">
        <row>
            <div class="col-md-3">
                <view-label label="Budget Name" value=""></view-label>
            </div>

            <div class="col-md-3">
                <view-label label="Budget Type" value=""></view-label>
            </div>

            <div class="col-md-3">
                <view-label label="Request By and Date" value=""></view-label>
            </div>

            <div class="col-md-3">
                <view-label label="Fiscal Year" value=""></view-label>
            </div>

            <div class="col-md-12 mb20"></div>

            <div class="col-md-3">
                <view-label label="Department Name" value=""></view-label>
            </div>

            <div class="col-md-3">
                <view-label label="Assigned Officer" value=""></view-label>
            </div>

            <div class="col-md-3">
                <view-label label="Approved By and Date" value=""></view-label>
            </div>

            <div class="col-md-3">
                <view-label label="Status" value=""></view-label>
            </div>

        </row>
    </div>

    <app-tab-group (tabChange)="onTabChange($event)">
        <app-tab tabTitle="Request Info">
            <accordion>

                <accordion-item [isOpen]="true">
                    <accordion-header>
                        <div class="accordion-header-content">
                            <div class="accordion-title open-visible">
                                <ion-icon name="person-circle-outline" role="img" class="md hydrated"></ion-icon>
                                <div class="">Budget Request Info</div>
                            </div>
                            <div class="accordion-title open-hide">
                                <ion-icon name="person-circle-outline" role="img" class="md hydrated"></ion-icon>
                                <div class="">Budget Request Info</div>
                            </div>
                        </div>
                    </accordion-header>
                    <accordion-body>
                        <form #a="ngForm">
                            <row>
                                <div class="col-md-6 border-right">
                                    <div class="d-flex gap-10 p10">
                                        <div class="col-md-6 ">

                                            @if(editbudget){

                                            <app-input-control label="Budget Name" type="select" name="budgetName"
                                                key="" keyName="" defaultOption="--Select--"
                                                [required]="true"></app-input-control>

                                            <app-input-control label="Budget Type" type="select" name="budgetType"
                                                key="" keyName="" defaultOption="--Select--"
                                                [required]="true"></app-input-control>

                                            <app-input-control label="Department" type="select" name="department" key=""
                                                keyName="" defaultOption="--Select--"
                                                [required]="true"></app-input-control>

                                            }
                                            @else {

                                            <view-label label="Budget Name" class="pb20" value=""
                                                [required]="true"></view-label>

                                            <view-label label="Budget Type" class="pb20" value=""
                                                [required]="true"></view-label>

                                            <view-label label="Department" class="pb20" value=""
                                                [required]="true"></view-label>
                                            }
                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="v-flex justify-content-between h90">
                                        <div class="p10">
                                            <view-label label="User Name" value="" class="pb20"></view-label>

                                            <view-label label="Designation " value="" class="pb20"></view-label>

                                        </div>
                                        <div class="d-flex end gap-10">
                                            @if(editbudget){
                                            <app-icon-button name="save" toolTip="Save"></app-icon-button>
                                            <app-icon-button name="refresh" toolTip="Refresh"></app-icon-button>
                                            }
                                            @else {
                                            <app-icon-button name="edit" toolTip="Edit" (click)="editBtn()"></app-icon-button>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </row>
                        </form>

                    </accordion-body>
                </accordion-item>
            </accordion>

        </app-tab>
        <app-tab tabTitle="Process">
            <accordion>

                <accordion-item [isOpen]="true">
                    <accordion-header>
                        <div class="accordion-header-content">
                            <div class="accordion-title open-visible">
                                <ion-icon src="assets/icons/budget.svg"></ion-icon>
                                <div class="">Process</div>
                            </div>
                            <div class="accordion-title open-hide">
                                <ion-icon src="assets/icons/budget.svg"></ion-icon>
                                <div class="">Process</div>
                            </div>
                        </div>
                    </accordion-header>
                    <accordion-body>
                        <div class="outer-content-wrapper">
                            <div class="content-wrapper">
                                <app-table [pagination]="pagination" [columns]="columns" [columnsName]="columnsName"
                                    [dataSource]="tableData" [hasHeader]="false" [showPaginator]="false"
                                    [hideSelectAll]="true">

                                    <ng-template cellDef="postingValue" let-element>
                                        <div class="pl30">{{element.postingValue}}</div>
                                    </ng-template>
                                </app-table>
                            </div>
                        </div>
                    </accordion-body>
                </accordion-item>
            </accordion>
        </app-tab>
        <app-tab tabTitle="History">
            <accordion>
                <accordion-item [isOpen]="true">
                    <accordion-header>
                        <div class="accordion-header-content">
                            <div class="accordion-title">
                                <ion-icon name="notifications-outline"></ion-icon>
                                <div class="accordion-title-content">
                                    <div>Notes</div>
                                    <!-- <div class="accordion-title-count"> {{0}}</div> -->
                                </div>
                            </div>
                        </div>
                    </accordion-header>
                    <accordion-body>
                        <div class="outer-content-wrapper">
                            <div class="content-wrapper">
                                <div class="p16px pb26 wrap-content">
                                    <div class="justify-content-end d-flex">
                                        <app-icon-button name="add" toolTip="Create"></app-icon-button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </accordion-body>
                </accordion-item>
                <accordion-item [isOpen]="true">
                    <accordion-header>
                        <div class="accordion-header-content">
                            <div class="accordion-title">
                                <ion-icon src="assets/icons/accordian/customer-service.svg"></ion-icon>
                                <div class="accordion-title-content">
                                    <div>Assigned Officer</div>
                                    <!-- <div class="accordion-title-count">{{0}}</div> -->
                                </div>
                            </div>
                        </div>
                    </accordion-header>
                    <accordion-body>
                        <div class="outer-content-wrapper">
                            <div class="content-wrapper">
                                <div class="p16px pb26 wrap-content">
                                    <div class="justify-content-end d-flex">
                                        <app-icon-button name="add" toolTip="Create"></app-icon-button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </accordion-body>
                </accordion-item>
            </accordion>

            <div class="bg-white-padd">

                <app-tab-sub-group>
                    <app-sub-tab tabTitle=" Status History">
                        <div class="status-padding">

                        </div>
                    </app-sub-tab>
                    <app-sub-tab tabTitle="Communication History">
                        <div class="outer-content-wrapper">
                            <div class="content-wrapper">


                            </div>
                        </div>
                    </app-sub-tab>
                </app-tab-sub-group>
            </div>
        </app-tab>
    </app-tab-group>
</div>