<div class="content-wrapper" appAccess="TAPSR" [parentId]="pageId">
  <app-multi-page-url [id]="id" url="/home/trust/trust-detail"></app-multi-page-url>
  <div class="sticky-card">
    <row>
        <div class="col-md-3 pb10">
          <view-label label="Trust App Ref No" value="{{ trustApplication.trustRefNo }}"></view-label>
        </div>

      <div class="col-md-3 pb10">
        <view-label label="Legacy Ref No" value="{{ trustApplication.legacyRefNo }}"></view-label>
      </div>
      <div class="col-md-3 pb10">
        <view-label label="File No" value="{{ trustApplication.fileNo }}"></view-label>
      </div>
      <div class="col-md-3 pb10">
        <view-label label="Legacy File No" value="{{ trustApplication.legacyFileNo }}"></view-label>
      </div>
      <div class="col-md-3 pb10">
        <view-label label="Start Date" value="{{ trustApplication.startDate | appDate }}"></view-label>
      </div>
      <div class="col-md-3 pb10">
        <view-label label="Status" value="{{ trustApplication.statusDescription }}"></view-label>
      </div>




    </row>
  </div>

  <app-tab-group (tabChange)="onTabChange($event)">
    <app-tab tabTitle="Members Involved">
      <app-tab-sub-group (tabChange)="memberTabChange($event)">
        <app-sub-tab tabTitle="Applicant">
          <div class="outer-content-wrapper">
            <div class="content-wrapper pt0">
              <app-table [columns]="applicantColumns" [columnsName]="applicantColumnsName" columnID="customerBankId"
                [dataSource]="tableApplicantData" [pagination]="pagination" [hasPagination]="true"
                [hideSelectAll]="true">
                <ng-template cellHeaderDef="crm">
                  <div class="header-cell-title">Applicant No</div>
                  <div class="header-cell-subtitle">Applicant Name</div>
                </ng-template>
                <ng-template cellDef="crm" let-element>
                  <div>
                    {{ element.ientCustomer.customerRefNo }}
                  </div>
                  <div class="table-cell-subtitle">
                    {{ element.ientCustomer.firstName }}
                    {{ element.ientCustomer.middleName }}
                    {{ element.ientCustomer.lastName }}
                  </div>
                </ng-template>
                <ng-template cellDef="bankName" let-element>
                  {{ element.ientCustomer.genderDescription }}
                </ng-template>
                <ng-template cellDef="bankCode" let-element>
                  {{ element.ientCustomer.dateOfBirth | appDate }}
                </ng-template>
                <ng-template cellDef="effectiveDate" let-element>
                  {{ element.ientCustomer.emailId }}
                </ng-template>
                <ng-template cellDef="contactNo" let-element>
                  {{ element.ientCustomer.contactNo }}
                </ng-template>
                <ng-template cellDef="isPrimaryApplicant" let-element>
                  @if(element.isPrimaryApplicant === 'Y'){ Yes }
                  @if(element.isPrimaryApplicant==='N'){ No }
                </ng-template>

                <!-- <ng-template cellHeaderDef="dateOfBrith">
                                <div class="header-cell-title">Created By</div>
                                <div class="header-cell-subtitle">Created Date</div>
                            </ng-template>
                            <ng-template cellDef="dateOfBrith" let-element>
                                <div>{{element.customerName}}</div>
                                <div class="table-cell-subtitle">{{element.customerRefNo}}</div>
                            </ng-template> -->
                <ng-template cellDef="action" let-element>
                  <app-icon-button name="open" toolTip="Open"
                    (click)="openTrustApplicant(element.trustApplicantId)"></app-icon-button>
                </ng-template>
                <ng-template #slotRight>
                  <!-- @if(trustApplication.createButtonHide !=='Y'){
                                <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                    (click)="createtrustApplicant()"></app-icon-button>
                                } -->
                </ng-template>
              </app-table>
            </div>
          </div>
        </app-sub-tab>
        <app-sub-tab tabTitle="Beneficiary">
          <div class="outer-content-wrapper">
            <div class="content-wrapper pt0">
              <app-table [columns]="beneficiaryColumns" [columnsName]="beneficiaryColumnsName" columnID="customerBankId"
                [dataSource]="tableBenificiaryData" [pagination]="pagination" [hasPagination]="true"
                [hideSelectAll]="true">
                <ng-template cellDef="minor" let-element>
                  @if(element.isMinor === 'Y'){ Yes }
                  @if(element.isMinor==='N'){ No }
                </ng-template>
                <ng-template cellHeaderDef="crm">
                  <div class="header-cell-title">Beneficiary No</div>
                  <div class="header-cell-subtitle">Beneficiary Name</div>
                </ng-template>
                <ng-template cellDef="crm" let-element>
                  <div>
                    {{ element.ientBeneficaryCustomer.customerRefNo }}
                  </div>
                  <div class="table-cell-subtitle">
                    {{ element.ientBeneficaryCustomer.firstName }}
                    {{ element.ientBeneficaryCustomer.middleName }}
                    {{ element.ientBeneficaryCustomer.lastName }}
                  </div>
                </ng-template>
                <ng-template cellDef="bankName" let-element>
                  {{ element.ientBeneficaryCustomer.genderDescription }}
                </ng-template>
                <ng-template cellDef="bankCode" let-element>
                  {{ element.ientBeneficaryCustomer.dateOfBirth | appDate }}
                </ng-template>
                <ng-template cellDef="effectiveDate" let-element>
                  {{ element.ientGaurdianCustomer.firstName }}
                  {{ element.ientGaurdianCustomer.middleName }}
                  {{ element.ientGaurdianCustomer.lastName }}
                </ng-template>
                <ng-template cellDef="contatc" let-element>
                  {{ element.ientBeneficaryCustomer.contactNo }}
                </ng-template>
                <ng-template cellHeaderDef="dateOfBrith">
                  <div class="header-cell-title">Father Name</div>
                  <div class="header-cell-subtitle">Mother Name</div>
                </ng-template>
                <ng-template cellDef="dateOfBrith" let-element>
                  <div>{{ element.ientBeneficaryCustomer.fatherName }}</div>
                </ng-template>
                <ng-template cellDef="action" let-element>
                 <app-icon-button name="open" toolTip="Open"
                                    (click)="openBeneficary(element.trustBeneficiaryId)"></app-icon-button>
                </ng-template>
                <ng-template #slotRight>
                  <!-- @if(trustApplication.createButtonHide !=='Y'){
                                <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                    (click)="createTrustBenificiaryApplicant()"></app-icon-button>
                                } -->
                </ng-template>
              </app-table>
            </div>
          </div>
        </app-sub-tab>
        <app-sub-tab tabTitle="Source of Income">
          <div class="outer-content-wrapper">
            <div class="content-wrapper pt0">
              <app-table [columns]="settlorColumns" [columnsName]="settlorColumnsName" columnID="customerBankId"
                [dataSource]="tableSettlorData" [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true">
                <ng-template cellDef="isPrimaryClient" let-element>
                  @if(element.isFptcl === 'Y'){ Yes }
                  @if(element.isFptcl==='N'){ No }
                </ng-template>
                <ng-template cellHeaderDef="crm">
                  <div class="header-cell-title">Ref No</div>
                  <div class="header-cell-subtitle">Name</div>
                </ng-template>

                <ng-template cellDef="crm" let-element>
                  <div>
                    {{ element.ientCustomer.customerRefNo }}
                  </div>
                  <div class="table-cell-subtitle">
                    {{ element.ientCustomer.firstName }}
                    {{ element.ientCustomer.middleName }}
                    {{ element.ientCustomer.lastName }}
                  </div>
                </ng-template>
                <ng-template cellDef="bankName" let-element>
                  {{ element.ientCustomer.genderDescription }}
                </ng-template>
                <ng-template cellDef="bankCode" let-element>
                  {{ element.ientCustomer.dateOfBirth | appDate }}
                </ng-template>
                <ng-template cellDef="effectiveDate" let-element>
                  {{ element.ientCustomer.emailId }}
                </ng-template>
                <ng-template cellDef="contatc" let-element>
                  {{ element.ientCustomer.contactNo }}
                </ng-template>

                <ng-template cellDef="action" let-element>
         <app-icon-button name="open" toolTip="Open"
                                    (click)="opentrustSettlor(element.trustSettlorId)"></app-icon-button> 
                </ng-template>
                <ng-template cellHeaderDef="action"> Action </ng-template>
                <ng-template #slotRight>
                  <!-- @if(trustApplication.createButtonHide !=='Y'){
                                <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                    (click)="createNewSettlor()"></app-icon-button>
                                } -->
                </ng-template>
              </app-table>
            </div>
          </div>
        </app-sub-tab>
      </app-tab-sub-group>
    </app-tab>
    <app-tab tabTitle="Account">
      <div class="bg-white pt0">

        <accordion>
          <accordion-item [isOpen]="true">
            <accordion-header>
              <div class="accordion-header-content">
                <div class="accordion-title">
                  <ion-icon src="assets/icons/accordian/client-doc.svg"></ion-icon>
                  <div class="accordion-title-content">
                    <div>Account Information</div>
                  </div>
                </div>
              </div>
            </accordion-header>
            <accordion-body>
              <div class="mb26"></div>
              <row>
                <div class="col-md-4 pb16">
                  <view-label label="Account No" [value]="trustApplication?.lstentFptclAccountNo[0]?.accountNo"></view-label>
                </div>
                <div class="col-md-4 pb16">
                  <view-label label="Account Name" [value]="trustApplication?.lstentFptclAccountNo[0]?.accountName"></view-label>
                </div>
                <div class="col-md-4 pb16">
                  <view-label label="Customer" [value]="trustApplication?.lstentFptclAccountNo[0]?.customerName"></view-label>
                </div>
                <div class="col-md-4 pb16">
                  <view-label label="Account Type" [value]="trustApplication?.lstentFptclAccountNo[0]?.accountTypeDescription"></view-label>
                </div>
                <div class="col-md-4 pb16">
                  <view-label label="Bank" [value]="trustApplication?.lstentFptclAccountNo[0]?.bankDescription"></view-label>
                </div>
                <div class="col-md-4 pb16">
                  <view-label label="Branch" [value]="trustApplication?.lstentFptclAccountNo[0]?.branchDescription"></view-label>
                </div>
               
              </row>
            </accordion-body>
          </accordion-item>
        </accordion>
      </div>
    </app-tab>
    <app-tab tabTitle="Documents">
      <div class="bg-white pt0">
 
          <accordion>
            <accordion-item [isOpen]="true">
              <accordion-header>
                <div class="accordion-header-content">
                  <div class="accordion-title">
                    <ion-icon src="assets/icons/accordian/client-doc.svg"></ion-icon>
                    <div class="accordion-title-content">
                      <div>Uploaded Documents</div>
                    </div>
                  </div>
                </div>
              </accordion-header>
              <accordion-body>

                <div class="outer-content-wrapper">
                  <div class="content-wrapper pt0">
                    <app-table [columns]="clientDocumentColumns" [columnsName]="clientDocumentColumnsName"
                      [pagination]="pagination" [hasPagination]="true" [dataSource]="documentTableData" [hasHeader]="false"
                      [hideSelectAll]="true" columnID="trustApplicationDocumentId">
                      <ng-template cellHeaderDef="fileName">
                        <div class="w200px">
                          File Name
                        </div>
                      </ng-template>
                      <ng-template cellDef="fileName" let-element>
                        <div class="overflow-wrap">
                          {{element.ientFile.fileName}}
                        </div>
                      </ng-template>
                      <ng-template cellHeaderDef="documentTypeDescription">
                        <div class="w200px">Document Name</div>
                      </ng-template>
                      <ng-template cellDef="fileExtension" let-element>
                        {{element.ientFile.fileExtension}}
                      </ng-template>
                      <ng-template cellDef="fileSize" let-element>
                        {{element.ientFile.fileSize | fileSize}}mb
                      </ng-template>
                      <ng-template cellHeaderDef="action">
                        <div class="text-center">
                          Action
                        </div>
                      </ng-template>
                      <ng-template cellDef="action" let-element>
                        @if(element.ientFile.fileName!==''){

                        <div class="d-flex align-items-center justify-content-center ">
                         <app-icon-button name="doc-download"
                                    (click)="downloadFile(element)">
                                </app-icon-button> 
                        
                         <app-icon-button name="doc-view"
                                    (click)="viewFile(element)">
                                </app-icon-button>
                        </div>
                        }
                      </ng-template>
                    </app-table>
                  </div>
                </div>
              </accordion-body>
            </accordion-item>
          </accordion>
        
      </div>
    </app-tab>
    <app-tab tabTitle="Transaction">
      <div class="bg-white pt0">

        <accordion>
          <accordion-item [isOpen]="true">
            <accordion-header>
              <div class="accordion-header-content">
                <div class="accordion-title">
                  <ion-icon src="assets/icons/accordian/client-doc.svg"></ion-icon>
                  <div class="accordion-title-content">
                    <div>Transaction Details</div>
                  </div>
                </div>
              </div>
            </accordion-header>
            <accordion-body>
              <div class="mb26"></div>
              <div class="outer-content-wrapper">
                <div class="content-wrapper pt0">
                  <app-table [columns]="transactionColumns" [columnsName]="transactionColumnName" [dataSource]="tableTransactionData"
                    [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true"
                    columnID="trustApplicationDocumentId">
                    <ng-template cellHeaderDef="action">
                      <div class="text-center">
                        Action
                      </div>
                    </ng-template>
                    <!-- <ng-template #slotMiddle>
                      <view-label label="Opening Balance" value="200.00" type="sub"></view-label>
                    </ng-template> -->
                    <!-- <ng-template #slotRight>
                      <app-icon-button name="add" toolTip="Add New"> </app-icon-button>
                    </ng-template> -->
                    <!-- <ng-template cellDef="action" let-element>

                    </ng-template> --> 
                  </app-table>
                  <div class="border-bottom"></div>
                  <!-- <div class="col-md-10 d-flex gap-10 end">
                    <view-label label="Closing Balance" value="50" type="sub"></view-label>
                    <view-label label="Interest Accured" value="50" type="sub"></view-label>
                  </div> -->
                </div>
              </div>
            </accordion-body>
          </accordion-item>
        </accordion>
      </div>

    </app-tab>
    <app-tab tabTitle="Withdrawals">
      <div class="bg-white pt0">

        <accordion>
          <accordion-item [isOpen]="true">
            <accordion-header>
              <div class="accordion-header-content">
                <div class="accordion-title">
                  <ion-icon src="assets/icons/accordian/client-doc.svg"></ion-icon>
                  <div class="accordion-title-content">
                    <div>Withdrawals </div>
                  </div>
                </div>
              </div>
            </accordion-header>
            <accordion-body>
              <div class="mb26"></div>
              <div class="outer-content-wrapper">
                <div class="content-wrapper pt0">
                  <!-- <app-table [columns]="withSettleColumn" [hasHeader]="false" [columnsName]="withSettleColumsName"
                  [dataSource]="tableWithdrawal"  [hideSelectAll]="true" [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true"
                    columnID="trustApplicationDocumentId">
                    <ng-template cellDef="appliedDate" let-element>{{element.appliedDate | appDate}}</ng-template>
                    <ng-template cellDef="dateProcessed" let-element>{{element.dateProcessed | appDate}}</ng-template>
                    <ng-template cellHeaderDef="action">
                      <div class="text-center">
                        Action
                      </div>
                    </ng-template>
                    
                    
                  </app-table> -->
                  <div class="content-wrapper pt0">
                    <app-table [hasPagination]="true" [columns]="columns" [hideSelectAll]="true"   [hasHeader]="false" [columnsName]="columnsName" [dataSource]="trustApplication.lstentTrustWithdrawalApplication">
                        <ng-template cellHeaderDef="applicationRefNo" >
                            <div class="header-cell-title">Trust Withdrawal Ref No</div>
                        </ng-template>
                        <ng-template cellDef="applicationRefNo" let-element>
                            <div>{{element.applicationRefNo}}</div>
                        </ng-template>
                        <ng-template cellHeaderDef="withdrawalTypeDescription">
                            <div class="header-cell-title">Withdrawal Type</div>
                            <div class="header-cell-subtitle">Withdrawal Sub Type</div>
                        </ng-template>
                        <ng-template cellDef="withdrawalTypeDescription" let-element>
                            <div>{{element.withdrawalTypeDescription}} </div>
                            <div class="table-cell-subtitle">{{element.withdrawalSubTypeDescription}}</div>
                        </ng-template>
                        <ng-template cellHeaderDef="trustAccountNo">
                            <div class="header-cell-title text-right">Eligible Amount</div>
                
                        </ng-template>
                        <ng-template cellDef="trustAccountNo" let-element>
                            <div class="text-right">{{element.eligibleAmount}}</div>
                
                        </ng-template>
                        <ng-template cellHeaderDef="trustAccountNo1">
                            <div class="header-cell-title text-right">Available Amount</div>
                
                        </ng-template>
                        <ng-template cellDef="trustAccountNo1" let-element>
                            <div class="text-right">{{element.availableAmount}}</div>
                
                        </ng-template>
                        <ng-template cellHeaderDef="enteredDate">
                            <div class="header-cell-title pl10px">Entered Date</div>
                            <div class="header-cell-subtitle pl10px">Entered By | Applied Branch</div>
                        </ng-template>
                        <ng-template cellDef="enteredDate" let-element>
                            <div class="pl10px">{{element.enteredDate | appDate}} </div>
                            <div class="table-cell-subtitle pl10px">{{element.enteredBy}} | {{element.appliedBranchDescription}}</div>
                        </ng-template>
                    </app-table>
                </div>
                </div>
              </div>
            </accordion-body>
          </accordion-item>
        </accordion>

      </div>
    </app-tab>
    <app-tab tabTitle="Settlement">
      <div class="bg-white pt0">

        <accordion>
          <accordion-item [isOpen]="true">
            <accordion-header>
              <div class="accordion-header-content">
                <div class="accordion-title">
                  <ion-icon src="assets/icons/accordian/client-doc.svg"></ion-icon>
                  <div class="accordion-title-content">
                    <div>Settlement </div>
                  </div>
                </div>
              </div>
            </accordion-header>
            <accordion-body>
              <div class="mb26"></div>
              <div class="outer-content-wrapper">
                <div class="content-wrapper">
                  <!-- @if(editApplicantData === false){ -->
        
                  <row>
                    <div class="col-md-4">
                      <div class="d-flex align-items-center address-header mb26">
                        <ion-icon src="assets/icons/customer_info.svg"></ion-icon>
                        <view-label
                          value="General Information"
                          class="pl10"
                        ></view-label>
                      </div>
                      <div class="mb20">
                        <view-label
                          label="Name"
                          value="{{ trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.firstName }} {{
                            trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.middleName
                          }} {{ trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.lastName }}"
                        ></view-label> 
                      </div>
                      <div class="mb20">
                        <view-label
                          label="Date Of Birth"
                          [value]="trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.dateOfBirth | appDate"
                        ></view-label>
                      </div>
                      <!-- <div class="mb20">
                                          <view-label label="Place Of Birth" value="{{le}}"></view-label>
                                      </div> -->
                      <div class="mb20">
                        <view-label
                          label="Gender"
                          value="{{ trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.genderDescription }}"
                        ></view-label>
                      </div>
                    </div>
        
                    <div class="col-md-4">
                      <div class="d-flex align-items-center address-header mb26">
                        <ion-icon name="person-outline"></ion-icon>
                        <view-label value="Communication" class="pl10"></view-label>
                      </div>
                      <div class="mb20 pl10">
                        <view-label
                          label="Home Contact"
                          value="{{ trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.contactNo }}"
                        ></view-label>
                      </div>
                      <div class="mb20 pl10">
                        <view-label
                          label="Office Contact"
                          value="{{ trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.alternateContactNo }}"
                        ></view-label>
                      </div>
                      <div class="mb20 pl10"> 
                        <view-label
                          label="Email"
                          value="{{ trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.emailId }}"
                        ></view-label>
                      </div>
                    </div>
        
                    <div class="col-md-4">
                      <div class="v-flex h100 justify-content-between">
                        <div class=" ">
                          <div class="d-flex align-items-center address-header mb26">
                            <ion-icon src="assets/icons/location.svg"></ion-icon>
                            <view-label value=" Address" class="pl10"></view-label>
                          </div>
                          <div class="pl10">
                            <view-label
                              value="{{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress.line1
                              }} {{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress.line2
                              }} {{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress.line3
                              }}"
                            ></view-label>
                          </div>
                          <div class="pl10">
                            <view-label
                              value="{{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress
                                  .provinceDescription
                              }} {{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress
                                  .islandDescription
                              }} "
                            ></view-label>
                          </div>
                          <div class="mb20 pl10">
                            <view-label
                              value="{{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress
                                  .tikinaDescription
                              }} {{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress
                                  .village
                              }} {{
                                trustApplication.ientTrustSettlementApplication.ientTrustSettlementApplicationApplicant.ientCustomer.iPermanentaddress.poBoxNo
                              }}"
                            ></view-label>
                          </div>
                        </div>
                       
                      </div>
                    </div>
                  </row>
                </div>
              </div>
            </accordion-body>
          </accordion-item>
        </accordion>

      </div>
    </app-tab>
  </app-tab-group>
</div>



<ng-template #breadCrumb>
  <div class="breadcrumb">
    <ul>
      <li class="screen-name link" (click)="navigateToList()">
        <div class="back-btn"> <ion-icon src="assets/icons/back.svg"></ion-icon></div>
        <ion-icon src="assets/icons/trust.svg"></ion-icon>
        <div class="screen-text">Trust</div>
      </li>
      <li class="screen-name">
        <div class="screen-text">Details</div>
      </li>
    </ul>
  </div>
</ng-template>

<ng-template #dialogDatas>
  <div class="dialog-container">
    @if(dialogName==="applicant"){
      <div class="dialog-header">
        <div class="dialog-title"> <ion-icon class="dialog-header-icon"
            src="assets/icons/accordian/addinfo.svg"></ion-icon>
          Trust  <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Applicant
          Information<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
          Detail
        </div>
        <div class="slot-right d-flex gap-10">
          <app-icon-button name="close" toolTip="Close" (click)="dialog.closeAll()"></app-icon-button>
        </div>
      </div>
      <div class="dialog-content">
        <div class="mb20"></div>
        <scroll>
          @if(data.showErrorMessage){
          <div class="error-panel">
            <app-error-message></app-error-message>
          </div>
          }
          <row>
            <div class="col-md-3">
              <div class="box h100">
                <div class="box-header "> Applicant
                  Information{{trustApplicant.isPrimaryApplicant}}</div>
                <div class=" box-pad">
                  <view-label class="pb10" label="Applicant CRM No"
                    value="{{trustApplicant.ientCustomer.customerRefNo}}"></view-label>
                  <view-label class="pb10" label="Is Primary Applicant"
                    value="{{trustApplicant.isPrimaryApplicant}}"></view-label>
                  <div class="bottom-border"></div>
                  <div class="pb10"></div>
                  <view-label class="pb10" label="First Name"
                    value="{{trustApplicant.ientCustomer.firstName}}"></view-label>
                  <view-label class="pb10" label="Middle Name"
                    value="{{trustApplicant.ientCustomer.middleName}}"></view-label>
                  <view-label class="pb10" label="Last Name"
                    value="{{trustApplicant.ientCustomer.lastName}}"></view-label>
                  <div class="bottom-border"></div>
                  <div class="pb10"></div>
                  <view-label class="pb10" label="Date Of Birth"
                    value="{{trustApplicant.ientCustomer.dateOfBirth | appDate}}"></view-label>
                  <view-label class="pb10" label="Date Of Death"
                    value="{{trustApplicant.ientCustomer.dateOfDeath |appDate}}"></view-label>
  
                  <view-label class="pb10" label="Gender"
                    value="{{trustApplicant.ientCustomer.genderDescription}}"></view-label>
                  <view-label class="pb10" label="Nationality"
                    value="{{trustApplicant.ientCustomer.nationalityDescription}}"></view-label>
                  <div class="bottom-border"></div>
                  <div class="pb10"></div>
                  <view-label class="pb10" label="Email ID" value="{{trustApplicant.ientCustomer.emailId}}"></view-label>
                  <view-label class="pb10" label="Contact No"
                    value="{{trustApplicant.ientCustomer.contactNo}}"></view-label>
                  <view-label class="pb10" label="Alternate Contact No"
                    value="{{trustApplicant.ientCustomer.alternateContactNo}}"></view-label>
                  <div class="bottom-border"></div>
                  <div class="pb10"></div>
                  <view-label class="pb10" label="Father Name" value=""></view-label>
                  <view-label class="pb10" label="Mother Name" value=""></view-label>
                  <view-label class="pb10" label="Guardian Name" value=""></view-label>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="box h100">
                <div class="box-header "> Address Details</div>
                <div class=" box-pad">
                  <view-label label="Line 1" value="{{trustApplicant.ientCustomer.iResidentialaddress.line1}}"
                    class="pb10"></view-label>
                  <view-label label="Line 2" value="{{trustApplicant.ientCustomer.iResidentialaddress.line2}}"
                    class="pb10"></view-label>
                  <view-label label="Line 3" value="{{trustApplicant.ientCustomer.iResidentialaddress.line3}}"
                    class="pb10"></view-label>
                  <view-label label="Province"
                    value="{{trustApplicant.ientCustomer.iResidentialaddress.provinceDescription}}"
                    class="pb10"></view-label>
                  <view-label label="Island" value="{{trustApplicant.ientCustomer.iResidentialaddress.islandDescription}}"
                    class="pb10"></view-label>
                  <view-label label="Tikina" value="{{trustApplicant.ientCustomer.iResidentialaddress.tikinaDescription}}"
                    class="pb10"></view-label>
                  <view-label label="Village" value="{{trustApplicant.ientCustomer.iResidentialaddress.village}}"
                    class="pb10"></view-label>
                  <view-label label="Po Box No" value="{{trustApplicant.ientCustomer.iResidentialaddress.poBoxNo}}"
                    class="pb10"></view-label>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="box h100">
                <div class="box-header "> KYC Details</div>
                <div class=" box-pad">
                  <view-label label="Birth Reg No" value="{{trustApplicant.ientCustomer.birthRegNo}}"
                    class="pb10"></view-label>
                  <view-label label="TIN" value="{{trustApplicant.ientCustomer.tin}}" class="pb10"></view-label>
                  <view-label label="FNPF No" value="{{trustApplicant.ientCustomer.fnpfNo}}" class="pb10"></view-label>
                  <view-label label="Voter ID" value={{trustApplicant.ientCustomer.voterId}} class="pb10"></view-label>
                  <view-label label="Driving License No" value="{{trustApplicant.ientCustomer.driverLicenseNo}}"
                    class="pb10"></view-label>
                  <!-- <view-label label="National ID"
                      value="{{trustApplicant.ientCustomer.nationalityDescription}}"
                      class="pb10"></view-label> -->
  
                  <view-label label="Passport No" value="{{trustApplicant.ientCustomer.passportNo}}"
                    class="pb10"></view-label>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="box h100">
                <div class="box-header ">Social Platform Details</div>
                <div class=" box-pad">
                  <view-label label="Facebook ID" value="{{trustApplicant.ientCustomer.facebookId}}"
                    class="pb10"></view-label>
                  <view-label label="LinkedIn ID" value="{{trustApplicant.ientCustomer.linkedinId}}"
                    class="pb10"></view-label>
                  <view-label label="Whatsapp" value="{{trustApplicant.ientCustomer.whatsappNumber}}"
                    class="pb10"></view-label>
                  <view-label label="Viber" value="{{trustApplicant.ientCustomer.viberNumber}}" class="pb10"></view-label>
                  <view-label label="Skype ID" value="{{trustApplicant.ientCustomer.skypeId}}" class="pb10"></view-label>
  
                </div>
              </div>
            </div>
          </row>
        </scroll>
      </div>
    }
    @if(dialogName==="beneficiary"){
      <div class="dialog-header">
        <div class="dialog-title"> <ion-icon class="dialog-header-icon"
            src="assets/icons/accordian/addinfo.svg"></ion-icon>
          Trust  <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Applicant
          Information<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
          Detail
        </div>
        <div class="slot-right d-flex gap-10">
          <app-icon-button name="close" toolTip="Close" (click)="dialog.closeAll()"></app-icon-button>
        </div>
      </div>
      <div class="dialog-content">
        <div class="mb20"></div>
        <scroll>
          @if(data.showErrorMessage){
          <div class="error-panel">
            <app-error-message></app-error-message>
          </div>
          }
    
          <row>
            <div class="col-md-3">
                <div class="box h100">
                    <div class="box-header "> Beneficiary Information</div>
                    <div class=" box-pad">
                        <view-label class="pb10" label="Beneficiary CRM No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.customerRefNo}}"></view-label>
                            <view-label class="pb10" label="Date Of Birth"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.dateOfBirth | appDate}}"></view-label>          
                      
                        <div class="bottom-border"></div>
                        <div class="pb10"></div>
                        <view-label class="pb10" label="First Name"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.firstName}}"></view-label>
                        <view-label class="pb10" label="Middle Name"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.middleName}}"></view-label>
                        <view-label class="pb10" label="Last Name"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.lastName}}"></view-label>
                        <div class="bottom-border"></div>
                        <div class="pb10"></div>

                        <view-label class="pb10" label="Date Of Death"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.dateOfDeath |appDate}}"></view-label>
                        <view-label class="pb10" label="Birth Reg No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.birthRegNo}}"></view-label>
                        <view-label class="pb10" label="Gender"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.genderDescription}}"></view-label>
                        <view-label class="pb10" label="Nationality"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.nationalityDescription}}"></view-label>
                        <div class="bottom-border"></div>
                        <div class="pb10"></div>
                        <view-label class="pb10" label="Email ID"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.emailId}}"></view-label>
                        <view-label class="pb10" label="Contact No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.contactNo}}"></view-label>
                        <view-label class="pb10" label="Alternate Contact No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.alternateContactNo}}"></view-label>
                        <div class="bottom-border"></div>
                        <div class="pb10"></div>
                        <view-label class="pb10" label="Father Name"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.fatherName}}"></view-label>
                        <view-label class="pb10" label="Mother Name"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.motherName}}"></view-label>
                        <view-label class="pb10" label="Guardian Name"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.gaurdianName}}"></view-label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="box h100">
                    <div class="box-header "> Address Details</div>
                    <div class=" box-pad">
                        <view-label label="Line 1"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.line1}}"
                            class="pb10"></view-label>
                        <view-label label="Line 2"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.line2}}"
                            class="pb10"></view-label>
                        <view-label label="Line 3"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.line3}}"
                            class="pb10"></view-label>
                        <view-label label="Province"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.provinceDescription}}"
                            class="pb10"></view-label>
                        <view-label label="Island"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.islandDescription}}"
                            class="pb10"></view-label>
                            <view-label label="Tikina"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.tikinaDescription}}"
                            class="pb10"></view-label>
                        <view-label label="Village"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.village}}"
                            class="pb10"></view-label>
                        <view-label label="Po Box No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.iResidentialaddress.poBoxNo}}"
                            class="pb10"></view-label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="box h100">
                    <div class="box-header "> KYC Details</div>
                    <div class=" box-pad">
                        <view-label label="Birth Reg No"
                        value="{{trustBeneficiary.ientBeneficaryCustomer.birthRegNo}}"
                        class="pb10"></view-label>
                        <view-label label="TIN"
                        value="{{trustBeneficiary.ientBeneficaryCustomer.tin}}"
                        class="pb10"></view-label>
                        <view-label label="FNPF No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.fnpfNo}}"
                            class="pb10"></view-label>
                            <view-label label="Voter ID"
                            value={{trustBeneficiary.ientBeneficaryCustomer.voterId}}
                            class="pb10"></view-label>
                        <view-label label="Driving License No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.driverLicenseNo}}"
                            class="pb10"></view-label>
                        <view-label label="Passport No"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.passportNo}}"
                            class="pb10"></view-label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="box h100">
                    <div class="box-header ">Social Platform Details</div>
                    <div class=" box-pad">
                        <view-label label="Facebook ID"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.facebookId}}"
                            class="pb10"></view-label>
                        <view-label label="LinkedIn ID"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.linkedinId}}"
                            class="pb10"></view-label>
                        <view-label label="Whatsapp"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.whatsappNumber}}"
                            class="pb10"></view-label>
                        <view-label label="Viber"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.viberNumber}}"
                            class="pb10"></view-label>
                        <view-label label="Skype ID"
                            value="{{trustBeneficiary.ientBeneficaryCustomer.skypeId}}"
                            class="pb10"></view-label>

                    </div>
                </div>
            </div>
        </row> 
        </scroll>
      </div>
        }
        <!-- @if(dialogName==="settlor"){
          <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                src="assets/icons/accordian/addinfo.svg"></ion-icon>
              Trust  <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon> Source Of Income
              <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
              Detail
            </div>
            <div class="slot-right d-flex gap-10">
              <app-icon-button name="close" toolTip="Close" (click)="dialog.closeAll()"></app-icon-button>
            </div>
          </div>
          <div class="dialog-content">
            <div class="mb20"></div>
            <scroll>
              @if(data.showErrorMessage){
              <div class="error-panel">
                <app-error-message></app-error-message>
              </div>
              }
          <row>
                <div class="col-md-3">
                    <div class="box h100">
                        <div class="box-header "> Source Of Income Information</div>
                        <div class=" box-pad">
                            <view-label class="pb10" label="Trustee CRM No"
                                value="{{trustSettlor.ientCustomer.customerRefNo}}"></view-label>
                            <view-label class="pb10" label="Is FPTCL"
                                value="{{trustSettlor.isFptcl}}"></view-label>
                            <div class="bottom-border"></div>
                            <div class="pb10"></div>
                            <view-label class="pb10" label="First Name"
                                value="{{trustSettlor.ientCustomer.firstName}}"></view-label>
                            <view-label class="pb10" label="Middle Name"
                                value="{{trustSettlor.ientCustomer.middleName}}"></view-label>
                            <view-label class="pb10" label="Last Name"
                                value="{{trustSettlor.ientCustomer.lastName}}"></view-label>
                            <div class="bottom-border"></div>
                            <div class="pb10"></div>
                            <view-label class="pb10" label="Date Of Birth"
                                value="{{trustSettlor.ientCustomer.dateOfBirth | appDate}}"></view-label>
                            <view-label class="pb10" label="Date Of Death"
                                value="{{trustSettlor.ientCustomer.dateOfDeath |appDate}}"></view-label>
                            <view-label class="pb10" label="Birth Reg No"
                                value="{{trustSettlor.ientCustomer.birthRegNo}}"></view-label>
                            <view-label class="pb10" label="Gender"
                                value="{{trustSettlor.ientCustomer.genderDescription}}"></view-label>
                            <view-label class="pb10" label="Nationality"
                                value="{{trustSettlor.ientCustomer.nationalityDescription}}"></view-label>
                            <div class="bottom-border"></div>
                            <div class="pb10"></div>
                            <view-label class="pb10" label="Email ID"
                                value="{{trustSettlor.ientCustomer.emailId}}"></view-label>
                            <view-label class="pb10" label="Contact No"
                                value="{{trustSettlor.ientCustomer.contactNo}}"></view-label>
                            <view-label class="pb10" label="Alternate Contact No"
                                value="{{trustSettlor.ientCustomer.alternateContactNo}}"></view-label>
                            <div class="bottom-border"></div>
                            <div class="pb10"></div>
                            <view-label class="pb10" label="Father Name"
                                value="{{trustSettlor.ientCustomer.fatherName}}"></view-label>
                            <view-label class="pb10" label="Mother Name"
                                value="{{trustSettlor.ientCustomer.motherName}}"></view-label>
                            <view-label class="pb10" label="Guardian Name"
                                value="{{trustSettlor.ientCustomer.gaurdianName}}"></view-label>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="box h100">
                        <div class="box-header "> Address Details</div>
                        <div class=" box-pad">
                            <view-label label="Line 1"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.line1}}"
                                class="pb10"></view-label>
                            <view-label label="Line 2"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.line2}}"
                                class="pb10"></view-label>
                            <view-label label="Line 3"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.line3}}"
                                class="pb10"></view-label>
                            <view-label label="Province"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.provinceDescription}}"
                                class="pb10"></view-label>
                            <view-label label="Island"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.islandDescription}}"
                                class="pb10"></view-label>
                                <view-label label="Tikina"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.tikinaDescription}}"
                                class="pb10"></view-label>
                            <view-label label="Village"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.village}}"
                                class="pb10"></view-label>
                            <view-label label="Po Box No"
                                value="{{trustSettlor.ientCustomer.iResidentialaddress.poBoxNo}}"
                                class="pb10"></view-label>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="box h100">
                        <div class="box-header "> KYC Details</div>
                        <div class=" box-pad">
                            <view-label label="Birth Reg No"
                        value="{{trustSettlor.ientCustomer.birthRegNo}}"
                        class="pb10"></view-label>
                            <view-label label="TIN" value="{{trustSettlor.ientCustomer.tin}}"
                                class="pb10"></view-label>
                            <view-label label="FNPF No"
                                value="{{trustSettlor.ientCustomer.fnpfNo}}"
                                class="pb10"></view-label>
                                <view-label label="Voter ID"
                                value={{trustSettlor.ientCustomer.voterId}}
                                class="pb10"></view-label>
                            <view-label label="Driving License No"
                                value="{{trustSettlor.ientCustomer.driverLicenseNo}}"
                                class="pb10"></view-label>
                            <view-label label="Passport No"
                                value="{{trustSettlor.ientCustomer.passportNo}}"
                                class="pb10"></view-label>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="box h100">
                        <div class="box-header ">Social Platform Details</div>
                        <div class=" box-pad">
                            <view-label label="Facebook ID"
                                value="{{trustSettlor.ientCustomer.facebookId}}"
                                class="pb10"></view-label>
                            <view-label label="LinkedIn ID"
                                value="{{trustSettlor.ientCustomer.linkedinId}}"
                                class="pb10"></view-label>
                            <view-label label="Whatsapp"
                                value="{{trustSettlor.ientCustomer.whatsappNumber}}"
                                class="pb10"></view-label>
                            <view-label label="Viber"
                                value="{{trustSettlor.ientCustomer.viberNumber}}"
                                class="pb10"></view-label>
                            <view-label label="Skype ID"
                                value="{{trustSettlor.ientCustomer.skypeId}}"
                                class="pb10"></view-label>

                        </div>
                    </div>
                </div>
            </row>
              </scroll>
 </div>
} -->
 </div>
</ng-template>

<ng-template #Template>
  <div class="ab bgc">
      <div class="rel">
          <div class="p-fix d-flex">
              <div class="download-button">
                  <button color="primary" (click)="downloadImageFile()">
                      Download
                  </button>
              </div>
              <div class="close-button">
                  <button color="danger" (click)="dialog.closeDialog()">
                      Close
                  </button>
              </div>

          </div>
          <div class="d-flex align-items-center h100 justify-content-center w100">
              <div class="d-flex align-items-center h100 justify-content-center w100 relative">
                  <div class="ab">
                      <div class="rel">
                          <div class="dis-none wcheck active">
                              <img [src]="filePath" alt="PreviewImages">
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</ng-template>