<div class="content-wrapper" appAccess="TAPSR" [parentId]="pageId">
    <app-multi-page-url [id]="id" url="/home/trust/trust-application/detail"></app-multi-page-url>
    <div class="sticky-card ">
        <row>
            <div class="col-md-3 pb10"> <view-label label="Ref No"
                    value="{{trustApplication.trustApplRefNo}}"></view-label></div>
            <div class="col-md-3 pb10"> <view-label label="Type"
                    value="{{trustApplication.trustTypeDescription}}"></view-label></div>
            <div class="col-md-3 pb10"> <view-label label="Stage"
                    value="{{trustApplication.applicationStageDescription}}"></view-label>
            </div>
            <div class="col-md-3 pb10"> <view-label label="Application Status"
                    value="{{trustApplication.statusDescription}}"></view-label>
            </div>
            <div class="col-md-3">
                <view-label label="Lead Ref No" value="{{trustApplication.leadRefNo}}"></view-label>
            </div>
            <div class="col-md-3">
                <view-label label="Trust Officer Assigned"
                    value="{{trustApplication.trustAssignedToFullname}}"></view-label>
            </div>
            <div class="col-md-3">
                <view-label label="Total Amount" value="{{trustApplication.settledAmount}}"></view-label>
            </div>
            <div class="col-md-3"> <view-label label="Action Status" status="{{trustApplication.actionStatusValue}}"
                    statusValue="{{trustApplication.actionStatusDescription}}"></view-label>
            </div>
        </row>
    </div>

    <app-tab-group (tabChange)="onTabChange($event)">
        <app-tab tabTitle="Application">
            <accordion>
                <accordion-item [isOpen]="true">
                    <accordion-header>
                        <div class="accordion-header-content">
                            <div class="accordion-title open-visible">
                                <ion-icon src="assets/icons/trust.svg"></ion-icon>
                                <div class="">Trust Information</div>
                            </div>
                            <div class="accordion-title open-hide">
                                <row class="row-w100">
                                    <div class="col-md-3"> <view-label label="Ref No"
                                            value="{{trustApplication.trustApplRefNo}}"></view-label>
                                    </div>
                                    <div class="col-md-3"> <view-label label="Application Status"
                                            value="{{trustApplication.statusDescription}}"></view-label>
                                    </div>
                                    <div class="col-md-3"> <view-label class="pb10" label="Action Status"
                                            status="{{trustApplication.actionStatusValue}}"
                                            statusValue="{{trustApplication.actionStatusDescription}}"></view-label>
                                    </div>
                                    <div class="col-md-3"> <view-label label="Application Stage"
                                            value="{{trustApplication.applicationStageDescription}}"></view-label>
                                    </div>

                                </row>
                            </div>
                        </div>
                    </accordion-header>
                    <accordion-body>
                        <div class="accordian-content">
                            <row>
                                <!-- <div class="col-2">

                                <div class="h100 border-right">
                                    <div class="view-label-container-title mb15">
                                        <ion-icon src="assets/icons/accordian/application.svg"
                                            class="pr5px"></ion-icon>Application
                                        Information
                                    </div>
                                    <view-label class="pb10" label="Ref No"
                                        value="{{trustApplication.trustApplRefNo}}"></view-label>
                                    <view-label class="pb10" label="Type"
                                        value="{{trustApplication.trustTypeDescription}} "></view-label>
                                    <view-label class="pb10" label="Stage"
                                        value="{{trustApplication.applicationStageDescription}}"></view-label>
                                    <view-label class="pb10" label="Application Status"
                                        value="{{trustApplication.statusDescription}}"></view-label>
                                    <view-label class="pb10" label="Action Status"
                                        status="{{trustApplication.actionStatusValue}}"
                                        statusValue="{{trustApplication.actionStatusDescription}} "></view-label>
                                    <view-label class="pb10" label="Lead Ref No"
                                        value="{{trustApplication.leadRefNo}}"></view-label>


                                </div>
                            </div> -->
                                <!-- <div class="col-md-3 border-right">
                                    <div class="view-label-container-title mb26">
                                        <ion-icon name="person-outline" class="pr5px"></ion-icon>
                                        Client Information
                                    </div>
                                    <view-label class="pb10" label="Name"
                                        value="{{trustApplication.ientTrustApplicationClient.ientCustomer.firstName}} {{trustApplication.ientTrustApplicationClient.ientCustomer.middleName}} {{trustApplication.ientTrustApplicationClient.ientCustomer.lastName}}"></view-label>
                                    <view-label class="pb10" label="Date Of Birth"
                                        value="{{trustApplication.ientTrustApplicationClient.ientCustomer.dateOfBirth?(trustApplication.ientTrustApplicationClient.ientCustomer.dateOfBirth | appDate):'-'}} "></view-label>

                                    <view-label class="pb10" label="Date Of Death"
                                        value="{{trustApplication.ientTrustApplicationClient.ientCustomer.dateOfDeath?(trustApplication.ientTrustApplicationClient.ientCustomer.dateOfDeath | appDate):'-'}} "></view-label>
                                    <view-label class="pb10" label="BRN"
                                        value="{{trustApplication.ientTrustApplicationClient.ientCustomer.birthRegNo}}"></view-label>
                                </div> -->
                                <div class="col-md-4 border-right">
                                    <div class="view-label-container-title mb26">
                                        <ion-icon src="assets/icons/accordian/application.svg" class="pr5px"></ion-icon>
                                        Applicant Information
                                    </div>
                                    <view-label class="pb10" label="Name"
                                        value="{{trustApplication.ientTrustApplicationApplicant.ientCustomer.firstName}} {{trustApplication.ientTrustApplicationApplicant.ientCustomer.middleName}} {{trustApplication.ientTrustApplicationApplicant.ientCustomer.lastName}} "></view-label>
                                    <view-label class="pb10" label="Date Of Birth"
                                        value="{{trustApplication.ientTrustApplicationApplicant.ientCustomer.dateOfBirth | appDate}}"></view-label>
                                    <view-label class="pb10" label="Contact No"
                                        value="{{trustApplication.ientTrustApplicationApplicant.ientCustomer.contactNo}}"></view-label>
                                    <view-label class=" pb10" label="Email Id"
                                        value="{{trustApplication.ientTrustApplicationApplicant.ientCustomer.emailId}}"></view-label>
                                </div>
                                <div class="col-md-4 border-right">

                                    <div class="view-label-container-title mb26">
                                        <ion-icon src="assets/icons/accordian/customer-service.svg"
                                            class="pr5px "></ion-icon>
                                        Beneficiary Information
                                    </div>
                                    <view-label class="pb10" label="Name"
                                        value="{{trustApplication.ientTrustApplicationBenificiary.ientBeneficaryCustomer.firstName}} {{trustApplication.ientTrustApplicationBenificiary.ientBeneficaryCustomer.middleName}} {{trustApplication.ientTrustApplicationBenificiary.ientBeneficaryCustomer.lastName}}"></view-label>
                                    <view-label class="pb10" label="Date Of Birth"
                                        value="{{trustApplication.ientTrustApplicationBenificiary.ientBeneficaryCustomer.dateOfBirth | appDate}}"></view-label>
                                    <view-label class="pb10" label="Contact No"
                                        value="{{trustApplication.ientTrustApplicationBenificiary.ientBeneficaryCustomer.contactNo}}"></view-label>
                                    <view-label class="pb10" label="Email Id"
                                        value="{{trustApplication.ientTrustApplicationBenificiary.ientBeneficaryCustomer.emailId}}"></view-label>
                                    @if(trustApplication.ientTrustApplicationBenificiary.nomination === 'N'){

                                    <view-label class="pb10" label="Nomination" value="No"></view-label>
                                    }
                                    @else if(trustApplication.ientTrustApplicationBenificiary.nomination ===' Y'){
                                    <view-label class="pb10" label="Nomination" value="Yes"></view-label>
                                    }
                                    @else{
                                    <view-label class="pb10" label="Nomination" value=""></view-label>
                                    }

                                </div>
                                <div class="col-md-4 ">
                                    <div class="view-label-container-title mb26"> <ion-icon name="person-outline"
                                            class="pr5px"></ion-icon>Trust Information
                                    </div>
                                    <view-label class="pb10" label="File No"
                                        value="{{trustApplication.fileNo}}"></view-label>
                                    <view-label class="pb10" label="Account No"
                                        value="{{trustApplication.trustAccountNo}}"></view-label>
                                    <view-label class="pb10" label="Total Amount"
                                        value="{{trustApplication.settledAmount}}"></view-label>
                                    <view-label class="pb10" label="Receipt No"
                                        value="{{trustApplication.receiptNo}}"></view-label>
                                    <view-label class="pb10" label="Account Status"
                                        status="{{trustApplication.trustAccountStatus}}"
                                        statusValue="{{trustApplication.trustAccountStatus}}"></view-label>
                                </div>
                            </row>
                        </div>
                    </accordion-body>
                </accordion-item>
                <div class="mb20"></div>
                <div class="bg-white-padd">
                    <app-tab-sub-group (tabChange)="onSubChange($event)">
                        <app-sub-tab tabTitle="Application" name="add-outline">
                            <div class="accordian-content">
                                <div class="mb20"></div>
                                <row>
                                    <div class="col-md-4 border-right">
                                        <view-label class="mb20" label="Trust Ref No"
                                            value="{{trustApplication.trustApplRefNo}}"></view-label>
                                        <view-label label="Trust Type" class="mb20"
                                            value="{{trustApplication.trustTypeDescription}}"></view-label>
                                        <view-label class="mb20" label="Application Status"
                                            status="{{trustApplication.statusValue}}"
                                            statusValue="{{trustApplication.statusDescription}}"></view-label>
                                        <view-label class="pb10" label="Action Status"
                                            status="{{trustApplication.actionStatusValue}}"
                                            statusValue="{{trustApplication.actionStatusDescription}}"></view-label>


                                    </div>
                                    <div class="col-md-4 border-right">
                                        <!-- @if(applicationEdit===false){ -->
                                        <view-label class="mb20" label="Lead Ref No"
                                            value="{{trustApplication.leadRefNo}}"></view-label>
                                        <view-label class="mb20" label="Assigned Department"
                                            value="{{trustApplication.leadAssignedDepartment}}"></view-label>
                                        <view-label class="mb20" label="Assigned Officer"
                                            value="{{trustApplication.ientTrustApplicationAssignedOfficer.assignedByFullname}}"></view-label>

                                        <view-label label="Applied Branch " class="mb20"
                                            value="{{trustApplication.appliedBranchDescription}}"></view-label>
                                        <!-- } -->
                                        <!-- @else{
                                        <div style="padding: 8px 16px;">
                                            <app-input-control type="select" label="Trust Type" class="mb20"></app-input-control>
                                            <app-input-control type="text" label="Applied By" class="mb20"></app-input-control>
                                            <app-input-control type="date" label="Applied Date" class="mb20"></app-input-control>
                                            <app-input-control type="select" label="Applied Branch"
                                                class="mb20"></app-input-control>
                                        </div>
                                        } -->
                                    </div>
                                    <div class="col-md-4">
                                        <div class="v-flex justify-content-between h100">
                                            <div>
                                                <view-label label="Applied By " class="mb20"
                                                    value="{{trustApplication.appliedByFullname}}"></view-label>
                                                <view-label label="Applied Date " class="mb20"
                                                    value="{{trustApplication.appliedDate | appDate}}"></view-label>
                                                <view-label label="Entered By " class="mb20" value="{{trustApplication.appliedByFullname}}
                                                "></view-label>
                                                <view-label label="Entered Date " class="mb20"
                                                    value="{{trustApplication.appliedDate | appDate}}"></view-label>
                                            </div>
                                            <div class="end gap-10">
                                                <!-- @if(applicationEdit===false){

                                                <app-icon-button name="edit" toolTip="Edit"
                                                    (click)="editApplication()"></app-icon-button>
                                                }
                                                @else{
                                                <app-icon-button name="save" toolTip="Save"
                                                    (click)="saveApplication()"></app-icon-button>
                                                <app-icon-button name="refresh" toolTip="Refresh"></app-icon-button>
                                                } -->
                                            </div>
                                        </div>
                                    </div>
                                </row>
                            </div>
                        </app-sub-tab>
                        <!-- <app-sub-tab tabTitle="Client">
                            <div class="outer-content-wrapper"> 
                                <div class="content-wrapper mb26">
                                    <app-table [columns]="clientColumns" [columnsName]="ClientColumnsName"
                                        columnID="customerBankId" [dataSource]="tableClientData"
                                        [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true">
                                        <ng-template cellDef="isPrimaryClient" let-element>
                                            @if(element.isPrimaryClient === 'Y'){
                                            Yes
                                            }
                                            @if(element.isPrimaryClient==='N'){
                                            No
                                            }
                                        </ng-template>
                                        <ng-template cellHeaderDef="crm">
                                            <div class="header-cell-title">Client No</div>
                                            <div class="header-cell-subtitle">Client Name</div>
                                        </ng-template>
                                        <ng-template cellDef="crm" let-element>
                                            <div (click)="openTrustApplicationClient(element.trustApplicationClientId)">
                                                {{element.ientCustomer.customerRefNo}}</div>
                                            <div class="table-cell-subtitle">{{element.ientCustomer.firstName}}
                                                {{element.ientCustomer.middleName}} {{element.ientCustomer.lastName}}
                                            </div>
                                        </ng-template>
                                        <ng-template cellDef="bankName" let-element>
                                            {{element.ientCustomer.genderDescription}}
                                        </ng-template>
                                        <ng-template cellDef="bankCode" let-element>
                                            {{element.ientCustomer.dateOfBirth | appDate}}
                                        </ng-template>
                                        <ng-template cellDef="effectiveDate" let-element>
                                            {{element.ientCustomer.emailId}}
                                        </ng-template>
                                        <ng-template cellDef="contatc" let-element>
                                            {{element.ientCustomer.contactNo}}
                                        </ng-template>
                                        <ng-template cellHeaderDef="dateOfBrith">
                                            <div class="header-cell-title">Father Name</div>
                                            <div class="header-cell-subtitle">Mother Name</div>
                                        </ng-template>
                                        <ng-template cellDef="dateOfBrith" let-element>
                                            <div>{{element.ientCustomer.fatherName}}</div>
                                            <div class="table-cell-subtitle">{{element.ientCustomer.motherName}}</div>
                                        </ng-template>

                                        <ng-template cellDef="action" let-element>

                                            <app-icon-button name="open" toolTip="Open"
                                                (click)="openTrustApplicationClient(element.trustApplicationClientId)"></app-icon-button>
                                        </ng-template>
                                        <ng-template cellHeaderDef="action">
                                            Action
                                        </ng-template>
                                        <ng-template #slotRight>
                                            @if(trustApplication.createButtonHide !=='Y'){
                                            <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                                (click)="createTrustClientApplicant()"></app-icon-button>
                                            }
                                        </ng-template>

                                    </app-table>
                                </div>
                            </div>
                        </app-sub-tab> -->
                        <app-sub-tab tabTitle="Applicant">
                            <div class="outer-content-wrapper">
                                <div class="content-wrapper mb26">
                                    <app-table [columns]="applicantColumns" [columnsName]="applicantColumnsName"
                                        columnID="customerBankId" [dataSource]="tableApplicantData"
                                        [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true">
                                        <ng-template cellHeaderDef="crm">
                                            <div class="header-cell-title">Applicant No</div>
                                            <div class="header-cell-subtitle">Applicant Name</div>
                                        </ng-template>
                                        <ng-template cellDef="crm" let-element>
                                            <div>
                                                {{element.ientCustomer.customerRefNo}}</div>
                                            <div class="table-cell-subtitle">{{element.ientCustomer.firstName}}
                                                {{element.ientCustomer.middleName}} {{element.ientCustomer.lastName}}
                                            </div>
                                        </ng-template>
                                        <ng-template cellDef="bankName" let-element>
                                            {{element.ientCustomer.genderDescription}}
                                        </ng-template>
                                        <ng-template cellDef="bankCode" let-element>
                                            {{element.ientCustomer.dateOfBirth | appDate}}
                                        </ng-template>
                                        <ng-template cellDef="effectiveDate" let-element>
                                            {{element.ientCustomer.emailId}}
                                        </ng-template>
                                        <ng-template cellDef="contactNo" let-element>
                                            {{element.ientCustomer.contactNo}}
                                        </ng-template>
                                        <ng-template cellDef="isPrimaryApplicant" let-element>
                                            @if(element.isPrimaryApplicant === 'Y'){
                                            Yes
                                            }
                                            @if(element.isPrimaryApplicant==='N'){
                                            No
                                            }
                                        </ng-template>

                                        <!-- <ng-template cellHeaderDef="dateOfBrith">
                                            <div class="header-cell-title">Created By</div>
                                            <div class="header-cell-subtitle">Created Date</div>
                                        </ng-template>
                                        <ng-template cellDef="dateOfBrith" let-element>
                                            <div>{{element.customerName}}</div>
                                            <div class="table-cell-subtitle">{{element.customerRefNo}}</div>
                                        </ng-template> -->
                                        <ng-template cellDef="action" let-element>
                                            <app-icon-button name="open" toolTip="Open"
                                                (click)="openTrustApplicationApplicant(element.trustApplicationApplicantId)"></app-icon-button>
                                        </ng-template>
                                        <ng-template #slotRight>
                                            @if(trustApplication.createButtonHide !=='Y'){
                                            <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                                (click)="createTrustApplicationApplicant()"></app-icon-button>
                                            }
                                        </ng-template>

                                    </app-table>
                                </div>
                            </div>
                        </app-sub-tab>
                        <app-sub-tab tabTitle="Beneficiary">
                            <div class="outer-content-wrapper">
                                <div class="content-wrapper">
                                    <app-table [columns]="beneficiaryColumns" [columnsName]="beneficiaryColumnsName"
                                        columnID="customerBankId" [dataSource]="tableBenificiaryData"
                                        [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true"
                                        (pageChanged)="bankPageChanged($event)">
                                        <ng-template cellDef="minor" let-element>
                                            @if(element.isMinor === 'Y'){
                                            Yes
                                            }
                                            @if(element.isMinor==='N'){
                                            No
                                            }
                                        </ng-template>
                                        <ng-template cellHeaderDef="crm">
                                            <div class="header-cell-title">Beneficiary No</div>
                                            <div class="header-cell-subtitle">Beneficiary Name</div>
                                        </ng-template>
                                        <ng-template cellDef="crm" let-element>
                                            <div>
                                                {{element.ientBeneficaryCustomer.customerRefNo}}</div>
                                            <div class="table-cell-subtitle">
                                                {{element.ientBeneficaryCustomer.firstName}}
                                                {{element.ientBeneficaryCustomer.middleName}}
                                                {{element.ientBeneficaryCustomer.lastName}}</div>
                                        </ng-template>
                                        <ng-template cellDef="bankName" let-element>
                                            {{element.ientBeneficaryCustomer.genderDescription}}
                                        </ng-template>
                                        <ng-template cellDef="bankCode" let-element>
                                            {{element.ientBeneficaryCustomer.dateOfBirth | appDate}}
                                        </ng-template>
                                        <ng-template cellDef="effectiveDate" let-element>
                                            {{element.ientGaurdianCustomer.firstName}}
                                            {{element.ientGaurdianCustomer.middleName}}
                                            {{element.ientGaurdianCustomer.lastName}}
                                        </ng-template>
                                        <ng-template cellDef="contatc" let-element>
                                            {{element.ientBeneficaryCustomer.contactNo}}
                                        </ng-template>
                                        <ng-template cellHeaderDef="dateOfBrith">
                                            <div class="header-cell-title">Father Name</div>
                                            <div class="header-cell-subtitle">Mother Name</div>
                                        </ng-template>
                                        <ng-template cellDef="dateOfBrith" let-element>
                                            <div>{{element.ientBeneficaryCustomer.fatherName}}</div>
                                            <!-- <div class="table-cell-subtitle">{{element.ientBeneficaryCustomer.motherName}}</div> -->
                                        </ng-template>
                                        <ng-template cellDef="action" let-element>
                                            <app-icon-button name="open" toolTip="Open"
                                                (click)="openTrustApplicationBenificiary(element.trustApplicationBeneficiaryId)"></app-icon-button>
                                        </ng-template>
                                        <ng-template #slotRight>
                                            @if(trustApplication.createButtonHide !=='Y'){
                                            <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                                (click)="createTrustBenificiaryApplicant()"></app-icon-button>
                                            }
                                        </ng-template>
                                    </app-table>
                                </div>
                            </div>
                        </app-sub-tab>
                      <app-sub-tab tabTitle="Source Of Income">
                            <div class="outer-content-wrapper">
                                <div class="content-wrapper mb26">
                                    <app-table [columns]="settlorColumns" [columnsName]="settlorColumnsName"
                                        columnID="customerBankId" [dataSource]="tableSettlorData"
                                        [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true"
                                        (pageChanged)="bankPageChanged($event)">
                                        <ng-template cellDef="isPrimaryClient" let-element>
                                            @if(element.isFptcl === 'Y'){
                                            Yes
                                            }
                                            @if(element.isFptcl==='N'){
                                            No
                                            }
                                        </ng-template>
                                        <ng-template cellHeaderDef="crm">
                                            <div class="header-cell-title">Ref No</div>
                                            <div class="header-cell-subtitle">Name</div>
                                        </ng-template>

                                        <ng-template cellDef="crm" let-element>
                                            <div
                                                (click)="openTrustApplicationSettlor(element.trustApplicationSettlorId)">
                                                {{element.ientCustomer.customerRefNo}}</div>
                                            <div class="table-cell-subtitle">{{element.ientCustomer.firstName}}
                                                {{element.ientCustomer.middleName}} {{element.ientCustomer.lastName}}
                                            </div>
                                        </ng-template>
                                        <ng-template cellDef="bankName" let-element>
                                            {{element.ientCustomer.genderDescription}}
                                        </ng-template>
                                        <ng-template cellDef="bankCode" let-element>
                                            {{element.ientCustomer.dateOfBirth | appDate}}
                                        </ng-template>
                                        <ng-template cellDef="effectiveDate" let-element>
                                            {{element.ientCustomer.emailId}}
                                        </ng-template>
                                        <ng-template cellDef="contatc" let-element>
                                            {{element.ientCustomer.contactNo}}
                                        </ng-template>


                                        <ng-template cellDef="action" let-element>

                                            <app-icon-button name="open" toolTip="Open"
                                                (click)="openTrustApplicationSettlor(element.trustApplicationSettlorId)"></app-icon-button>
                                        </ng-template>
                                        <ng-template cellHeaderDef="action">
                                            Action
                                        </ng-template>
                                        <ng-template #slotRight>
                                            @if(trustApplication.createButtonHide !=='Y'){
                                            <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                                (click)="createNewSettlor()"></app-icon-button>
                                            }
                                        </ng-template>

                                    </app-table>
                                </div>
                            </div>
                        </app-sub-tab>
                        <!--   <app-sub-tab tabTitle="Trustee">
                            <div class="outer-content-wrapper">
                                <div class="content-wrapper mb26">
                                    <app-table [columns]="trusteeColumns" [columnsName]="trusteeColumnsName"
                                        columnID="customerBankId" [dataSource]="tableTrusteeData"
                                        [pagination]="pagination" [hasPagination]="true" [hideSelectAll]="true"
                                        (pageChanged)="bankPageChanged($event)">
                                        <ng-template cellDef="isPrimaryClient" let-element>
                                            @if(element.isFptcl === 'Y'){
                                            Yes
                                            }
                                            @if(element.isFptcl==='N'){
                                            No
                                            }
                                        </ng-template>
                                        <ng-template cellHeaderDef="crm">
                                            <div class="header-cell-title">Trustee No</div>
                                            <div class="header-cell-subtitle">Trustee Name</div>
                                        </ng-template>

                                        <ng-template cellDef="crm" let-element>
                                            <div
                                                (click)="openTrustApplicationTrustee(element.trustApplicationTrusteeId)">
                                                {{element.ientCustomer.customerRefNo}}</div>
                                            <div class="table-cell-subtitle">{{element.ientCustomer.firstName}}
                                                {{element.ientCustomer.middleName}} {{element.ientCustomer.lastName}}
                                            </div>
                                        </ng-template>
                                        <ng-template cellDef="bankName" let-element>
                                            {{element.ientCustomer.genderDescription}}
                                        </ng-template>
                                        <ng-template cellDef="bankCode" let-element>
                                            {{element.ientCustomer.dateOfBirth | appDate}}
                                        </ng-template>
                                        <ng-template cellDef="effectiveDate" let-element>
                                            {{element.ientCustomer.emailId}}
                                        </ng-template>
                                        <ng-template cellDef="contatc" let-element>
                                            {{element.ientCustomer.contactNo}}
                                        </ng-template>


                                        <ng-template cellDef="action" let-element>

                                            <app-icon-button name="open" toolTip="Open"
                                                (click)="openTrustApplicationTrustee(element.trustApplicationTrusteeId)"></app-icon-button>
                                        </ng-template>
                                        <ng-template cellHeaderDef="action">
                                            Action
                                        </ng-template>
                                        <ng-template #slotRight>
                                            @if(trustApplication.createButtonHide !=='Y'){
                                            <app-icon-button name="add" class="pr5px" toolTip="Add New"
                                                (click)="createNewTrustee()"></app-icon-button>
                                            }
                                        </ng-template>

                                    </app-table>
                                </div>
                            </div>
                        </app-sub-tab> -->
                    </app-tab-sub-group>
                </div>


            </accordion>
        </app-tab>
        <app-tab tabTitle="Process ">
            <accordion>

                @for(type of trustApplication.lstentTrustApplicationRejectHistory; track $index){
                @switch (type.trustApplicationStageValue) {
                @case ('OBDOC') {
                <app-client-document [type]="type" [(application)]="trustApplication"></app-client-document>
                }
                @case('OBCRO'){
                <app-court-order [type]="type" [(application)]="trustApplication"></app-court-order>
                }
                @case('RCIDC'){
                <app-initial-document [type]="type" [(application)]="trustApplication"></app-initial-document>
                }
                @case('OPNFL'){
                <app-open-file [type]="type" [(application)]="trustApplication"></app-open-file>
                }
                @case('RGTRS'){
                <app-register-trust [type]="type" [(application)]="trustApplication"></app-register-trust>
                }
                @case('CTSTA'){
                <app-trust-account [type]="type" [(application)]="trustApplication"></app-trust-account>
                }
                @case('CDINT'){
                <app-conduct-interview [type]="type" [(application)]="trustApplication"></app-conduct-interview>

                }
                @case('RGTRS'){
                <app-register-trust [type]="type" [(application)]="trustApplication"></app-register-trust>

                }
                @case('FTRDE'){
                <app-finalize-trust-deed [type]="type" [(application)]="trustApplication"></app-finalize-trust-deed>
                }
                @case('CTRCR'){
                <app-complete-trust-creation [type]="type"
                    [(application)]="trustApplication"></app-complete-trust-creation>
                }
                @case('RPTFN'){
                <app-receipt-fund [type]="type" [(application)]="trustApplication"></app-receipt-fund>
                }
                @case('ROPNF'){
                        <app-review-open-file [type]="type" [(application)]="trustApplication"></app-review-open-file>
                }
                @case('AOPNF'){
                        <app-approval-open-file [type]="type" [(application)]="trustApplication"></app-approval-open-file>
                }
                @case('RWDTS'){
                        <app-review-the-document [type]="type" [(application)]="trustApplication"></app-review-the-document>
                }
                @case('APDTS'){
                        <app-approval-of-document [type]="type" [(application)]="trustApplication"></app-approval-of-document>
                }
                @case('APPML'){
                        <app-approval-by-ml [type]="type" [(application)]="trustApplication"></app-approval-by-ml>
                }
                @case('RWMET'){
                        <app-review-by-met [type]="type" [(application)]="trustApplication"></app-review-by-met>
                }
                @case('PRLDT'){
                        <app-preparation-of-legal-doc [type]="type" [(application)]="trustApplication"></app-preparation-of-legal-doc>
                }
                @case('FLDOC'){
                        <app-filling-doc [type]="type" [(application)]="trustApplication"></app-filling-doc>
                }

                }

                <!-- <app-court-order [trustApplicationId]="trustApplicationId"></app-court-order>
                <app-initial-document></app-initial-document>
                <app-conduct-interview [type]="type" [(application)]="trustApplication"></app-conduct-interview>
                <app-finalize-trust-deed [type]="type" [(application)]="trustApplication"></app-finalize-trust-deed>
                -->
                <!-- <app-trust-account [type]="type" [(application)]="trustApplication"></app-trust-account> -->

                }
                @if(trustApplication.trustApplicationCompleted ==='Y'){
                <app-summary [(application)]="trustApplication"></app-summary>

                }

            </accordion>
        </app-tab>
        <app-tab tabTitle="History">
            <accordion>
                <accordion-item [isOpen]="true">
                    <accordion-header>
                        <div class="accordion-header-content">
                            <div class="accordion-title">
                                <ion-icon name="notifications-outline"></ion-icon>
                                <div class="accordion-title-content">
                                    <div>Notes</div>
                                    <div class="accordian-title-count">
                                        {{notesList?.length}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </accordion-header>
                    <accordion-body>
                        <div class="outer-content-wrapper">
                            <div class="content-wrapper">
                                <div class="p16px pb26 wrap-content">
                                    <div class="justify-content-end d-flex">

                                        <!-- <app-icon-button name="add" toolTip="Create" (click)="createNotesDialog()"
                                            appButtonAccess=""></app-icon-button> -->
                                    </div>
                                    @for (item of notesList; track $index) {
                                    <div class="border-bottom  notes-list">
                                        <div class="mx10">{{item.notes}}</div>
                                        <div class="d-flex justify-content-end notes-context">
                                            <div style="padding-right:5px ;">
                                                {{item.enteredByFullname}}</div>
                                            <div class=" notes-border-left">
                                                {{item.enteredDate |appDate}} {{item.enteredDate |appDate: 'hh:mm a'}}
                                            </div>
                                            <div style="padding-right:5px ;"></div>
                                            <div class=" notes-border-left status-{{item.customerStatusValue}}">
                                                {{item.statusDescription}}
                                            </div>
                                            <div class="card-1-header-label px-2 ">

                                            </div>
                                        </div>
                                    </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </accordion-body>
                </accordion-item>
                <accordion-item [isOpen]="true">
                    <accordion-header>
                        <div class="accordion-header-content">
                            <div class="accordion-title">
                                <ion-icon src="assets/icons/accordian/customer-service.svg"></ion-icon>
                                <div class="accordion-title-content">
                                    <div>Assigned Officer</div>
                                    <div class="accordian-title-count">{{assignedOfficerTableData.length}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </accordion-header>
                    <accordion-body>

                        <div class="outer-content-wrapper">
                            <div class="content-wrapper">
                                <app-table [columns]="assignOfficerColumns" [columnsName]="assignOfficerColumnsName"
                                    [hasPagination]="true" [dataSource]="assignedOfficerTableData"
                                    [hideSelectAll]="true">
                                    <ng-template cellDef="statusDescription" let-element>
                                        <div class="status status-{{element.statusValue}}">{{element.statusDescription}}
                                        </div>
                                    </ng-template>
                                    <ng-template cellDef="assignedDate" let-element>
                                        {{element.assignedDate | appDate}}
                                    </ng-template>
                                    <!-- @if(customerUpdate.assignedOfficerFlag === 'True'){ -->
                                    <ng-template #slotRight>
                                        <div class="d-flex align-items-center">

                                            <!-- @if(this.trustApplication.assignedOfficerFlag === 'True'){
                                            @if(this.trustApplication.reAssignFlag === 'True'){
                                            <form #p="ngForm" class="col-md-10 w250">
                                                <app-input-control type="select" key="constant" keyName="description"
                                                    placeholder="Officer" [items]="assignedOfficerDDL"
                                                    defaultOption="--Select--"
                                                    [(ngModel)]="trustApplicationAssignedOfficer.assignedTo"
                                                    name="assignedTo"></app-input-control>
                                            </form>
                                            <div class="col-md-2"><app-icon-button name="reassign"
                                                    (click)="reAssignTrust()" toolTip="Reassign"></app-icon-button>
                                            </div>
                                            }
                                            @if(this.trustApplication.selfAssignFlag ===' True'){
                                            <div class="col-md-2"><app-icon-button name="add"
                                                    (click)="selfAssignTrust()" toolTip="Self Assign"></app-icon-button>
                                            </div>
                                            }
                                            } -->

                                        </div>
                                    </ng-template>
                                    <!-- } -->
                                </app-table>
                            </div>
                        </div>

                    </accordion-body>
                </accordion-item>
            </accordion>
            <div class="card-accordian w100">
                <div class="card-header">
                    <div class="d-flex align-items-center card-header">
                        <div class="col-md-5 pl8px">

                            <div class="d-flex">
                                <div class="accordion-title-card pr10 flex-none border-right pointer"
                                    [ngClass]="{'active-tab': showStatusHistory === true}"
                                    (click)="openStatusValueProcess(1)">
                                    <ion-icon src="assets/icons/accordian/status-history.svg"></ion-icon>
                                    <div class="accordion-title-content">
                                        <div>Status History</div>
                                        <div class="accordian-title-count">{{statusHistoryDataSource.length}}</div>
                                    </div>
                                </div>
                                <div class="accordion-title-card pl10 pointer" (click)="openStatusValueProcess(2)"
                                    [ngClass]="{'active-tab': showEmailHistory === true}">
                                    <ion-icon src="assets/icons/accordian/email-history.svg"></ion-icon>
                                    <div class="accordion-title-content">
                                        <div>Communication History</div>
                                        <div class="accordian-title-count">{{emailHistoryTableData.length}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-7" (click)="openAccordianProcess(this.accordianOpen)">

                            <div class="end btn-accordian">
                                @if(this.accordianOpen === true){

                                <div class="rotate">
                                    <ion-icon src="assets/icons/down.svg"></ion-icon>
                                </div>
                                }
                                @else{
                                <!-- <div class="rotate-180"> -->
                                <ion-icon src="assets/icons/down.svg"></ion-icon>
                                <!-- </div> -->
                                }
                            </div>


                        </div>
                    </div>
                </div>
                @if(this.accordianOpen === true){
                @if(this.showStatusHistory === true){
                <!-- <div class="acc-card-content"> -->
                <div class="status-padding">
                    <app-status-history [data]="statusHistoryDataSource"></app-status-history>
                </div>
                <!-- </div> -->
                }
                @else if(this.showEmailHistory === true){
                <div class="outer-content-wrapper">
                    <div class="content-wrapper">

                        <app-table [columns]="emailColumns" [columnsName]="emailColumnsName" [hasPagination]="true"
                            [dataSource]="emailHistoryTableData" [hideSelectAll]="true">
                            <ng-template cellDef="toEmailId" let-element>
                                {{element.ientCommunicationTracking.toEmailId}}
                            </ng-template>
                            <ng-template cellDef="sentDate" let-element>
                                {{element.ientCommunicationTracking.sentDate |
                                appDate
                                }} |
                                {{element.ientCommunicationTracking.sentDate
                                | appDate: 'hh:mm a'}}
                            </ng-template>
                            <ng-template cellDef="sentStatusDescription" let-element>
                                <div class="status-{{element.ientCommunicationTracking.sentStatusValue}}">
                                    {{element.ientCommunicationTracking.sentStatusDescription}}</div>
                            </ng-template>

                            <ng-template cellDef="action" let-element>
                                <app-icon-button name="open" toolTip="Open"
                                    (click)="viewEmailDetail(element)"></app-icon-button>
                            </ng-template>
                        </app-table>
                    </div>
                </div>
                }
                }
            </div>
        </app-tab>

    </app-tab-group>
    <div class="mb26">

    </div>


</div>

<ng-template #breadCrumb>
    <div class="breadcrumb">
        <ul>
            <li class="screen-name link" (click)="navigateToList()">
                <div class="back-btn"> <ion-icon src="assets/icons/back.svg"></ion-icon></div>
                <ion-icon src="assets/icons/trust.svg"></ion-icon>
                <div class="screen-text">Trust Application</div>
            </li>
            <li class="screen-name">
                <div class="screen-text">Details</div>
            </li>
        </ul>
    </div>
</ng-template>


<!-- Client -->
<ng-template #clientInfo>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Client
                Information<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right d-flex gap-10">
                @if(trustApplication.createButtonHide !=='Y' && editClientBtn === true){
                <div class="d-flex gap-10">
                    <app-icon-button name="edit" toolTip="Edit" (click)="editClientDetails()"></app-icon-button>
                </div>
                }
                @if(updateClientBtn){
                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Update" (click)="updateClient()"> </app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="refreshTrustApplicationClient(trustApplicationClient.trustApplicationClientId,'refresh')"></app-icon-button>

                </div>
                }
                @if(addNewClient===true && updateClientBtn === false){
                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Save" (click)="saveClient()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearClientData()"></app-icon-button>
                </div>
                }

                <app-icon-button name="close" toolTip="Close"
                    (click)="dialogCloseAll();getTrustClientList()"></app-icon-button>
            </div>
        </div>
        <div class="dialog-content">
            <scroll>
                @if(data.showErrorMessage){
                <div class="error-panel">
                    <app-error-message></app-error-message>
                </div>
                }
                @if(this.createClientCustomer === true ){
                <div class="pb10"></div>
                <div class="d-flex align-items-center">
                    <div class="col-md-3 pl15">
                        <app-input-control label="Customer " [(ngModel)]="trustApplicationClient.customerId"
                            name="customerId" [items]="initialData.DDLValues.DDLCustomer" key="id" type="select"
                            keyName="fullName"
                            (onSelect)="openCustomerForClient(trustApplicationClient.customerId)"></app-input-control>
                    </div>
                    <div class="col-md-1">
                        <app-icon-button name="search" toolTip="Search"
                            (click)="customerSearch('client')"></app-icon-button>
                    </div>
                </div>
                }
                <app-tab-group>
                    <app-tab tabTitle="Client">
                        @if(clientView === 'show'){

                        <row>
                            <!-- <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Client Information</div>
                                    <div class=" box-pad">
                                        <view-label class="pb10" label="Client CRM No"
                                            value="{{trustApplicationClient.ientCustomer.customerRefNo}}"></view-label>
                                        @if(clientToggleActive === false){
                                        @if(trustApplicationClient.isPrimaryClient ==='Y'){
                                        <view-label class="pb10" label="Is Primary Client" value="Yes"></view-label>
                                        }
                                        @if(trustApplicationClient.isPrimaryClient ==='N'){
                                        <view-label class="pb10" label="Is Primary Client" value="No"></view-label>
                                        }

                                        }
                                        @if(clientToggleActive === true){
                                        <div class="label-data">Is Primary Client</div>
                                        <div class="status-toggle d-flex align-items-center">
                                            <mat-slide-toggle class="pb10"
                                                [checked]="trustApplicationClient.isPrimaryClient==='Y'"
                                                (change)="clientIsMinor($event)" color="primary"></mat-slide-toggle>
                                            <div class="pb10">
                                                @if(trustApplicationClient.isPrimaryClient==='Y'){
                                                Yes
                                                }
                                                @else{
                                                No
                                                }
                                            </div>
                                        </div>
                                        }
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="First Name"
                                            value="{{trustApplicationClient.ientCustomer.firstName}}"></view-label>
                                        <view-label class="pb10" label="Middle Name"
                                            value="{{trustApplicationClient.ientCustomer.middleName}}"></view-label>
                                        <view-label class="pb10" label="Last Name"
                                            value="{{trustApplicationClient.ientCustomer.lastName}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Date Of Birth"
                                            value="{{trustApplicationClient.ientCustomer.dateOfBirth | appDate}}"></view-label>
                                        <view-label class="pb10" label="Date Of Death"
                                            value="{{trustApplicationClient.ientCustomer.dateOfDeath |appDate}}"></view-label>
                                        <view-label class="pb10" label="Birth Reg No"
                                            value="{{trustApplicationClient.ientCustomer.birthRegNo}}"></view-label>
                                        <view-label class="pb10" label="Gender"
                                            value="{{trustApplicationClient.ientCustomer.genderDescription}}"></view-label>
                                        <view-label class="pb10" label="Nationality"
                                            value="{{trustApplicationClient.ientCustomer.nationalityDescription}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Email ID"
                                            value="{{trustApplicationClient.ientCustomer.emailId}}"></view-label>
                                        <view-label class="pb10" label="Contact No"
                                            value="{{trustApplicationClient.ientCustomer.contactNo}}"></view-label>
                                        <view-label class="pb10" label="Alternate Contact No"
                                            value="{{trustApplicationClient.ientCustomer.alternateContactNo}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Father Name"
                                            value="{{trustApplicationClient.ientCustomer.fatherName}}"></view-label>
                                        <view-label class="pb10" label="Mother Name"
                                            value="{{trustApplicationClient.ientCustomer.motherName}}"></view-label>
                                        <view-label class="pb10" label="Guardian Name"
                                            value="{{trustApplicationClient.ientCustomer.gaurdianName}}"></view-label>
                                    </div>
                                </div>
                            </div> -->
                            <div class="col-md-4">
                                <div class="box h100">
                                    <div class="box-header "> Address Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Line 1"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.line1}}"
                                            class="pb10"></view-label>
                                        <view-label label="Line 2"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.line2}}"
                                            class="pb10"></view-label>
                                        <view-label label="Line 3"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.line3}}"
                                            class="pb10"></view-label>
                                        <view-label label="Province"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.provinceDescription}}"
                                            class="pb10"></view-label>
                                        <view-label label="Island"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.islandDescription}}"
                                            class="pb10"></view-label>
                                        <view-label label="Tikina"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.tikinaDescription}}"
                                            class="pb10"></view-label>
                                        <view-label label="Village"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.village}}"
                                            class="pb10"></view-label>
                                        <view-label label="Po Box No"
                                            value="{{trustApplicationClient.ientCustomer.iResidentialaddress.poBoxNo}}"
                                            class="pb10"></view-label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="box h100">
                                    <div class="box-header "> KYC Details</div>
                                    <div class=" box-pad">
                                        <view-label label="TIN" value="{{trustApplicationClient.ientCustomer.tin}}"
                                        class="pb10"></view-label>
                                        <view-label label="FNPF No"
                                            value="{{trustApplicationClient.ientCustomer.fnpfNo}}"
                                            class="pb10"></view-label>
                                            <view-label label="Voter ID"
                                            value={{trustApplicationClient.ientCustomer.voterId}}
                                            class="pb10"></view-label>
                                            <view-label label="Driving License No"
                                                value="{{trustApplicationClient.ientCustomer.driverLicenseNo}}"
                                                class="pb10"></view-label>
                                                <view-label label="Passport No"
                                                    value="{{trustApplicationClient.ientCustomer.passportNo}}"
                                                    class="pb10"></view-label>
                                        <!-- <view-label label="National ID"
                                            value="{{trustApplicationClient.ientCustomer.nationalityDescription}}"
                                            class="pb10"></view-label> -->

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="box h100">
                                    <div class="box-header ">Social Platform Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Facebook ID"
                                            value="{{trustApplicationClient.ientCustomer.facebookId}}"
                                            class="pb10"></view-label>
                                        <view-label label="LinkedIn ID"
                                            value="{{trustApplicationClient.ientCustomer.linkedinId}}"
                                            class="pb10"></view-label>
                                        <view-label label="Whatsapp"
                                            value="{{trustApplicationClient.ientCustomer.whatsappNumber}}"
                                            class="pb10"></view-label>
                                        <view-label label="Viber"
                                            value="{{trustApplicationClient.ientCustomer.viberNumber}}"
                                            class="pb10"></view-label>
                                        <view-label label="Skype ID"
                                            value="{{trustApplicationClient.ientCustomer.skypeId}}"
                                            class="pb10"></view-label>

                                    </div>
                                </div>
                            </div>
                        </row>
                        }

                        @if(clientView === 'hide'){
                        <form #clientForm="ngForm">
                            <row>
                                <div class="col-md-3">
                                    <div class="box h100">
                                        <div class="box-header "> Client Information</div>
                                        <div class=" box-pad">
                                            <app-input-control class="pb10" label="Client CRM No" name="customerRefNo"
                                                [btnClicked]="true"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.customerRefNo"></app-input-control>
                                            <div class="label-data">Is Primary Client</div>
                                            <div class="status-toggle d-flex align-items-center">
                                                <mat-slide-toggle class="pb10"
                                                    [checked]="trustApplicationClient.isPrimaryClient==='Y'"
                                                    (change)="clientIsMinor($event)" color="primary"></mat-slide-toggle>
                                                <div class="pb10">
                                                    @if(trustApplicationClient.isPrimaryClient==='Y'){
                                                    Yes
                                                    }
                                                    @else{
                                                    No
                                                    }
                                                </div>
                                            </div>
                                            <!-- <app-input-control class="pb10" label="Client Name" name=""
                                                [(ngModel)]="trustApplicationClient"></app-input-control> -->
                                            <div class="bottom-border"></div>
                                            <div class="pb10"></div>
                                            <app-input-control class="pb10" label="First Name" name="firstName"
                                                [errorTrue]="errorTrue" [required]="true" [maxLength]="250"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.firstName"></app-input-control>
                                            <app-input-control class="pb10" label="Middle Name" name="middleName"
                                                [maxLength]="250"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.middleName"></app-input-control>
                                            <app-input-control class="pb10" label="Last Name" name="lastName"
                                                [errorTrue]="errorTrue" [required]="true" [maxLength]="250"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.lastName"></app-input-control>
                                            <div class="bottom-border"></div>
                                            <div class="pb10"></div>
                                            <app-input-control class="pb10" label="Date Of Birth" name="dateOfBirth"
                                                type="date" [errorTrue]="errorTrue" [required]="true"
                                                [maxDate]="currentDate"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.dateOfBirth "></app-input-control>
                                            <app-input-control class="pb10" label="Date Of Death" name="dateOfDeath"
                                                type="date" [maxDate]="currentDate"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.dateOfDeath "></app-input-control>

                                            <app-input-control class="pb10" label="Gender" name="genderValue"
                                                [errorTrue]="errorTrue" [required]="true"
                                                [items]="initialData.DDLValues.DDLGender" key="constant"
                                                keyName="description" type="select" defaultOption="--Select--"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.genderValue"></app-input-control>
                                            <app-input-control class="pb10" label="Nationality" name="nationalityValue"
                                                [errorTrue]="errorTrue" [required]="true"
                                                [items]="initialData.DDLValues.DDLNationality" key="constant"
                                                keyName="description" type="select" defaultOption="--Select--"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.nationalityValue"></app-input-control>
                                            <div class="bottom-border"></div>
                                            <div class="pb10"></div>
                                            <app-input-control class="pb10" label="Email ID" name="emailId" type="email"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.emailId"></app-input-control>
                                            <app-input-control class="pb10" label="Contact No" name="contactNo"
                                                type="number" [errorTrue]="errorTrue" [required]="true" [minLength]="5"
                                                [maxLength]="15"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.contactNo"></app-input-control>
                                            <app-input-control class="pb10" label="Alternate Contact No"
                                                name="alternateContactNo" type="number" [minLength]="5" [maxLength]="15"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.alternateContactNo"></app-input-control>
                                            <div class="bottom-border"></div>
                                            <div class="pb10"></div>
                                            <app-input-control class="pb10" label="Father Name"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.fatherName"
                                                name="fatherName"></app-input-control>
                                            <app-input-control class="pb10" label="Mother Name"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.motherName"
                                                name="motherName"></app-input-control>
                                            <app-input-control class="pb10" label="Guardian Name"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.gaurdianName"
                                                name="gaurdianName"></app-input-control>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="box h100">
                                        <div class="box-header "> Address Details</div>
                                        <div class=" box-pad">
                                            <app-address-edit
                                                [ientAddress]="trustApplicationClient.ientCustomer.iResidentialaddress"
                                                [errorTrue]="errorTrue" type="residential"></app-address-edit>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="box h100">
                                        <div class="box-header ">
                                            KYC Details <span>(Any one field is Mandatory)</span>
                                        </div>
                                        <div class="box-pad">
                                            <div class="col-md-12"><app-input-control type="text" label="Birth Reg No"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.birthRegNo"
                                                name="birthRegNo" [maxLength]="20"
                                                [errorTrue]="trustApplicationClient.ientCustomer.tin===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.passportNo==='' && errorTrue "
                                                [required]="trustApplicationClient.ientCustomer.tin===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.passportNo==='' " />
                                        </div>
                                            <div class="col-md-12"><app-input-control type="text" label="TIN"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.tin" name="tin"
                                                [maxLength]="20"
                                                [errorTrue]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.birthRegNo===''&& trustApplicationClient.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.birthRegNo===''&& trustApplicationClient.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>
                                            <div class="col-md-12"><app-input-control type="text" label="FNPF No"
                                                    [errorTrue]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' && errorTrue "
                                                    [required]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' "
                                                    [(ngModel)]="trustApplicationClient.ientCustomer.fnpfNo"
                                                    [maxLength]="10" name="fnpfNo"></app-input-control>
                                            </div>
                                            <div class="col-md-12"><app-input-control type="text" label="Voter ID"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.voterId"
                                                name="voterId" [maxLength]="20"
                                                [errorTrue]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>
                                            <div class="col-md-12"><app-input-control type="text"
                                                    label="Driving License No"
                                                    [(ngModel)]="trustApplicationClient.ientCustomer.driverLicenseNo"
                                                    name="driverLicenseNo" [maxLength]="20"
                                                    [errorTrue]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' && errorTrue "
                                                    [required]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' "></app-input-control>
                                            </div>

                                            <!-- <div class="col-md-12"><app-input-control type="text" label="National ID"
                                                    [(ngModel)]="trustApplicationClient.ientCustomer.nationalId"
                                                    name="nationalId" [maxLength]="20"
                                                    [errorTrue]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' && errorTrue "
                                                    [required]="trustApplicationClient.ientCustomer.passportNo===''&& trustApplicationClient.ientCustomer.tin===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo===''&& trustApplicationClient.ientCustomer.birthRegNo==='' "></app-input-control>
                                            </div> -->

                                            <div class="col-md-12"><app-input-control type="text" label="Passport No"
                                                    [(ngModel)]="trustApplicationClient.ientCustomer.passportNo"
                                                    name="passportNo" [maxLength]="20"
                                                    [errorTrue]="trustApplicationClient.ientCustomer.tin===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo===''&& trustApplicationClient.ientCustomer.birthRegNo===''  && errorTrue "
                                                    [required]="trustApplicationClient.ientCustomer.tin===''&& trustApplicationClient.ientCustomer.driverLicenseNo==='' && trustApplicationClient.ientCustomer.voterId==='' && trustApplicationClient.ientCustomer.fnpfNo==='' && trustApplicationClient.ientCustomer.birthRegNo==='' "></app-input-control>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="box h100">
                                        <div class="box-header ">Social Platform Details</div>
                                        <div class=" box-pad">
                                            <app-input-control label="Facebook ID" name="facebookId"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.facebookId"
                                                class="pb10"></app-input-control>
                                            <app-input-control label="LinkedIn ID" name="linkedinId"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.linkedinId"
                                                class="pb10"></app-input-control>
                                            <app-input-control label="Whatsapp" name="whatsappNumber"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.whatsappNumber"
                                                class="pb10"></app-input-control>
                                            <app-input-control label="Viber" name="viberNumber"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.viberNumber"
                                                class="pb10"></app-input-control>
                                            <app-input-control label="Skype ID" name="skypeId"
                                                [(ngModel)]="trustApplicationClient.ientCustomer.skypeId"
                                                class="pb10"></app-input-control>

                                        </div>
                                    </div>
                                </div>
                            </row>
                        </form>
                        }
                    </app-tab>
                    <app-tab tabTitle="Client Organization">
                        @if( createClientCustomer === false){
                        <div class="outer-content-wrapper">
                            <div class="content-wrapper">
                                <div class="box h100 m10px">
                                    <div class="box-header ">Client Organization</div>
                                    <div class=" box-pad">
                                        <app-table [pagination]="pagination" [columns]="clientOrganizationColumns"
                                            [columnsName]="clientOrganizationColumnsName" [hideSelectAll]="true"
                                            [dataSource]="clientOrganizationTableData" [showPaginator]="false"
                                            columnID="trustApplicationDocumentId">
                                            <ng-template #slotRight>
                                                <app-icon-button name="add" toolTip="Add New"
                                                    (click)="clientOrgDialogBox()"></app-icon-button>
                                            </ng-template>
                                            <ng-template cellDef="organizationName" let-element>
                                                <div (click)="openClientOrg(element.trustApplicationClientOrgId)"
                                                    class="pointer text-underline">{{element.organizationName}}</div>
                                            </ng-template>
                                            <ng-template cellDef="nomineeDob" let-element>
                                                {{element.nomineeDob | appDate}}
                                            </ng-template>
                                            <ng-template cellDef="action" let-element>
                                                <app-icon-button name="doc-delete" toolTip="Delete"
                                                    (click)="checkClientOrgDelete(element)"></app-icon-button>
                                            </ng-template>
                                        </app-table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        }
                        @if( createClientCustomer === true){
                        <form #clientForm="ngForm" class="h100">
                            <div class="sub-table">
                                <table class="w100">
                                    <tr>
                                        <th>Organization Name </th>
                                        <th>Settled Amount</th>
                                        <th>Nominee Name</th>
                                        <th>Nominee DOB</th>

                                        <th><app-icon-button name="table-add" toolTip="Add New"
                                                (click)="addNewItemLst()"></app-icon-button></th>
                                    </tr>
                                    @for( element of clientOrganizationTableData;track element; let i = $index){
                                    <tr>
                                        <td> <app-input-control [(ngModel)]="element.organizationName"
                                                [errorTrue]="errorTrue" [required]="true" class="d-flex justify-center"
                                                name="organizationName{{i}}"></app-input-control></td>
                                        <td> <app-input-control [(ngModel)]="element.settlementAmount"
                                                name="settlementAmount{{i}}" [errorTrue]="errorTrue" [required]="true"
                                                [maxLegth]="12" class="d-flex justify-center" type="number"
                                                [decimal]="2"></app-input-control>
                                        </td>
                                        <td> <app-input-control [(ngModel)]="element.nomineeName"
                                                name="nomineeName{{i}}" [errorTrue]="errorTrue"
                                                class="d-flex justify-center" [required]="true"></app-input-control>
                                        </td>
                                        <td>
                                            <app-input-control [(ngModel)]="element.nomineeDob" name="nomineeDob{{i}}"
                                                class="d-flex justify-center" [maxDate]="currentDate"
                                                [errorTrue]="errorTrue" [required]="true"
                                                type="date"></app-input-control>
                                        </td>
                                        <td>
                                            <app-icon-button name="doc-delete" toolTip="Delete"
                                                (click)="spliceClientOrg(data)"></app-icon-button>
                                        </td>

                                    </tr>
                                    }
                                </table>
                            </div>
                        </form>
                        }
                    </app-tab>

                </app-tab-group>
            </scroll>


        </div>
    </div>
</ng-template>

<ng-template #clientOrg>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Client
                Organization<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right">
                @if( this.clientOrganization.trustApplicationClientOrgId !== 0 ){

                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Update" (click)="saveClientOrg()"></app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="refreshClientOrg(clientOrganization.trustApplicationClientOrgId)"></app-icon-button>
                    <app-icon-button name="close" toolTip="Close"
                        (click)="dialogClose();getClientOrgList(trustApplicationClient.trustApplicationClientId)"></app-icon-button>
                </div>
                }
                @else {
                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Save" (click)="saveClientOrg()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearSubClientOrg()"></app-icon-button>
                    <app-icon-button name="close" toolTip="Close"
                        (click)="dialogClose(); getClientOrgList(trustApplicationClient.trustApplicationClientId)"></app-icon-button>
                </div>
                }
            </div>
        </div>
        <div class="dialog-content">
            <div class="content-wrapper">

                <div class="box ">
                    <div class="box-header ">Organization Information</div>

                    <form #clientOrgForm="ngForm" class="box-pad">

                        <div class=""><app-input-control label="Organization Name"
                                [(ngModel)]="clientOrganization.organizationName" [maxLength]="250"
                                [errorTrue]="errorTrue" [required]="true" name="organizationName"></app-input-control>
                        </div>
                        <div class=""><app-input-control label="Settlement Amount" [maxLength]="15" type="number"
                                [errorTrue]="errorTrue" [required]="true"
                                [(ngModel)]="clientOrganization.settlementAmount"
                                name="settledAmount"></app-input-control></div>
                        <div class=""><app-input-control label="Nominee Name" [maxLength]="250"
                                [(ngModel)]="clientOrganization.nomineeName" name="nomineeName" [errorTrue]="errorTrue"
                                [required]="true"></app-input-control>
                        </div>
                        <div class=""><app-input-control label="Nominee DOB" [(ngModel)]="clientOrganization.nomineeDob"
                                name="nomineeDob" type="date" [errorTrue]="errorTrue" [maxDate]="currentDate"
                                [required]="true"></app-input-control></div>

                    </form>
                </div>
                <div class="mb26"></div>
            </div>
        </div>
    </div>
</ng-template>


<ng-template #applicantAddnInfo>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Applicant
                <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right">
                @if(trustApplicantParentInfo.trustApplicationParentAddtionalInfoId !== 0){

                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Update" (click)="saveApplicantOrg()"></app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="refreshApplicantAddn(trustApplicantParentInfo.trustApplicationParentAddtionalInfoId)"></app-icon-button>
                    <app-icon-button name="close" toolTip="Close" (click)="dialogClose()"></app-icon-button>
                </div>
                }
                @else {
                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Save" (click)="saveApplicantOrg()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearApplicantOrg()"></app-icon-button>
                    <app-icon-button name="close" toolTip="Close" (click)="dialogClose()"></app-icon-button>
                </div>
                }
            </div>
        </div>
        <form #w="ngForm" class="dialog-content">
            <div class="content-wrapper">

                <div class="box ">
                    <div class="box-header ">Applicant Additional Information</div>
                    <div class=" box-pad">

                        <div class=""><app-input-control label="Children Name"
                                [(ngModel)]="trustApplicantParentInfo.childrenName" [errorTrue]="errorTrue" [required]="true"
                                name="childrenName"></app-input-control></div>
                        <div class=""><app-input-control label="Date Of Birth" [errorTrue]="errorTrue" [required]="true"
                                [(ngModel)]="trustApplicantParentInfo.dateOfBirth" [maxDate]="currentDate"
                                name="dateOfBirth" type="date"></app-input-control></div>

                        <div class=""><app-input-control label="Gender" [items]="initialData.DDLValues.DDLGender"
                                key="constant" keyName="description" type="select" defaultOption="--Select--"
                                [(ngModel)]="trustApplicantParentInfo.genderValue" [errorTrue]="errorTrue" [required]="true"
                                name="genderValue"></app-input-control>
                        </div>

                    </div>
                </div>
                <div class="mb26"></div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #applicantInfo>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Applicant
                Information<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right d-flex gap-10">
                @if(editApplicantBtn === true && trustApplication.createButtonHide !=='Y' ){
                <app-icon-button name="edit" toolTip="Edit" (click)="editTrustApplicant()"></app-icon-button>
                }
                @else if(editClientBtn === false){
                @if(addNewApplicant === false){

                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Update" (click)="updateApplicant()"></app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="openTrustApplicationApplicant(this.trustApplicationApplicant.trustApplicationApplicantId,'refresh')"></app-icon-button>

                </div>
                }
                @if(addNewApplicant === true) {
                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Save" (click)="saveApplicant()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearApplicantData()"></app-icon-button>

                </div>
                }
                }
                <app-icon-button name="close" toolTip="Close"
                    (click)="dialogCloseAll();getTrustApplicantList()"></app-icon-button>
            </div>
        </div>
        <div class="dialog-content">
            <div class="mb20"></div>
            <scroll>
                @if(data.showErrorMessage){
                <div class="error-panel">
                    <app-error-message></app-error-message>
                </div>
                }
                <div class="content-wrapper">
                    @if(applicantSearch === true){
                    <div class="pb10"></div>
                    <div class="d-flex align-items-center">
                        <div class="col-md-3 pl15">
                            <app-input-control label="Customer "
                                [(ngModel)]="trustApplicationApplicant.ientCustomer.customerId" name="customerId"
                                [items]="initialData.DDLValues.DDLCustomer" key="id" type="select" keyName="fullName"
                                valueType="int"
                                (onSelect)="openCustomerForApplicant(trustApplicationApplicant.ientCustomer.customerId)"></app-input-control>
                        </div>
                        <div class="col-md-1">
                            <app-icon-button name="search" toolTip="Search"
                                (click)="customerSearch('applicant')"></app-icon-button>
                        </div>
                    </div>
                    }
                    <app-tab-group (tabChange)="onTabChange($event)">
                        <app-tab tabTitle="Applicant"> 
                            @if(editApplicantData === true){
                            <form #applicantForm="ngForm">
                                <row>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Applicant Information</div>
                                            <div class=" box-pad">
                                                <app-input-control class="pb10" label="Applicant CRM No"
                                                    name="customerRefNo" [btnClicked]="true"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.customerRefNo"></app-input-control>
                                                <div class="label-data">Is Primary Applicant</div>
                                                <div class="status-toggle d-flex align-items-center">
                                                    <mat-slide-toggle class="pb10"
                                                        [checked]="trustApplicationApplicant.isPrimaryApplicant==='Y'"
                                                        (change)="applicantIsPrimary($event)"
                                                        color="primary"></mat-slide-toggle>

                                                    <div class="pb10">
                                                        @if(trustApplicationApplicant.isPrimaryApplicant==='Y'){
                                                        Yes
                                                        }
                                                        @else{
                                                        No
                                                        }
                                                    </div>
                                                </div>
                                                <!-- <app-input-control class="pb10" label="Client Name" name=""
                                            [(ngModel)]="trustApplicationClient"></app-input-control> -->
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="First Name" name="firstName"
                                                    [errorTrue]="errorTrue" [required]="true" [maxLength]="250"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.firstName"></app-input-control>
                                                <app-input-control class="pb10" label="Middle Name" name="middleName"
                                                    [maxLength]="250"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.middleName"></app-input-control>
                                                <app-input-control class="pb10" label="Last Name" name="lastName"
                                                    [maxLength]="250" [errorTrue]="errorTrue" [required]="true"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.lastName"></app-input-control>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="Date Of Birth" name="dateOfBirth"
                                                    [errorTrue]="errorTrue" [required]="true" type="date"
                                                    [maxDate]="currentDate"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.dateOfBirth "></app-input-control>
                                                <app-input-control class="pb10" label="Date Of Death" name="dateOfDeath"
                                                    [maxDate]="currentDate" type="date"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.dateOfDeath "></app-input-control>

                                                <app-input-control class="pb10" label="Gender" name="genderValue"
                                                    [errorTrue]="errorTrue" [required]="true"
                                                    [items]="initialData.DDLValues.DDLGender" key="constant"
                                                    keyName="description" type="select" defaultOption="--Select--"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.genderValue"></app-input-control>
                                                <app-input-control class="pb10" label="Nationality"
                                                    name="nationalityValue"
                                                    [items]="initialData.DDLValues.DDLNationality" key="constant"
                                                    [errorTrue]="errorTrue" [required]="true" keyName="description"
                                                    type="select" defaultOption="--Select--"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.nationalityValue"></app-input-control>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="Email ID" name="emailId"
                                                    type="email"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.emailId"></app-input-control>
                                                <app-input-control class="pb10" label="Contact No" name="contactNo"
                                                    type="number" [errorTrue]="errorTrue" [required]="true"
                                                    [minLength]="5" [maxLength]="15"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.contactNo"></app-input-control>
                                                <app-input-control class="pb10" label="Alternate Contact No"
                                                    name="alternateContactNo" type="number" [minLength]="5"
                                                    [maxLength]="15"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.alternateContactNo"></app-input-control>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="Father Name"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.fatherName"
                                                    name="fatherName"></app-input-control>
                                                <app-input-control class="pb10" label="Mother Name"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.motherName"
                                                    name="motherName"></app-input-control>
                                                <app-input-control class="pb10" label="Guardian Name"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.gaurdianName"
                                                    name="gaurdianName"></app-input-control>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Address Details</div>
                                            <div class=" box-pad">
                                                <app-address-edit
                                                    [ientAddress]="trustApplicationApplicant.ientCustomer.iResidentialaddress"
                                                    [errorTrue]="errorTrue" type="residential"></app-address-edit>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header ">
                                                KYC Details <span>(Any one field is Mandatory)</span>
                                            </div>
                                            <div class="box-pad">
                                                <div class="col-md-12"><app-input-control type="text"
                                                    label="Birth Reg No"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.birthRegNo"
                                                    name="birthRegNo" [maxLength]="20"
                                                    [errorTrue]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.passportNo==='' && errorTrue "
                                                    [required]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.passportNo==='' " />
                                            </div>
                                            <div class="col-md-12"><app-input-control type="text" label="TIN"
                                                [(ngModel)]="trustApplicationApplicant.ientCustomer.tin"
                                                name="tin" [maxLength]="20"
                                                [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>
                                                <div class="col-md-12"><app-input-control type="text" label="FNPF No"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.fnpfNo"
                                                        [maxLength]="10" name="fnpfNo"></app-input-control>
                                                </div>

                                                <div class="col-md-12"><app-input-control type="text" label="Voter ID"
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.voterId"
                                                        name="voterId" [maxLength]="20"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                                </div>
                                                <!-- <div class="col-md-12"><app-input-control type="text"
                                                        label="National ID"
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.nationalId"
                                                        name="nationalId" [maxLength]="20"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                                </div> -->

                                                <div class="col-md-12"><app-input-control type="text"
                                                    label="Driving License No"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.driverLicenseNo"
                                                    name="driverLicenseNo" [maxLength]="20"
                                                    [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                    [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                            </div>
                                                <div class="col-md-12"><app-input-control type="text"
                                                        label="Passport No"
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.passportNo"
                                                        name="passportNo" [maxLength]="20"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo===''  && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header ">Social Platform Details</div>
                                            <div class=" box-pad">
                                                <app-input-control label="Facebook ID" name="facebookId"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.facebookId"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="LinkedIn ID" name="linkedinId"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.linkedinId"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="Whatsapp" name="whatsappNumber"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.whatsappNumber"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="Viber" name="viberNumber"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.viberNumber"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="Skype ID" name="skypeId"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.skypeId"
                                                    class="pb10"></app-input-control>

                                            </div>
                                        </div>
                                    </div>
                                </row>
                            </form>
                            }
                            @if(editApplicantData === false){
                            <form #applicantForm="ngForm">
                                <row>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Applicant
                                                Information{{trustApplicationApplicant.isPrimaryApplicant}}</div>
                                            <div class=" box-pad">
                                                <view-label class="pb10" label="Applicant CRM No"
                                                    value="{{trustApplicationApplicant.ientCustomer.customerRefNo}}"></view-label>
                                                @if(clientToggleActive === true){
                                                <div class="label-data">Is Primary Applicant</div>
                                                <div class="status-toggle d-flex align-items-center">
                                                    <mat-slide-toggle class="pb10"
                                                        [checked]="trustApplicationApplicant.isPrimaryApplicant==='Y'"
                                                        (change)="applicantIsPrimary($event)"
                                                        color="primary"></mat-slide-toggle>
                                                    @if(trustApplicationApplicant.isPrimaryApplicant==='Y'){
                                                    Yes
                                                    }
                                                    @else{
                                                    No
                                                    }
                                                </div>
                                                }
                                                @else{
                                                <view-label class="pb10" label="Is Primary Applicant"
                                                    value="{{trustApplicationApplicant.isPrimaryApplicant}}"></view-label>
                                                }
                                                <!-- <view-label class="pb10" label="Client Name"
                                        value="{{trustApplicationApplicant}}"></view-label> -->
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="First Name"
                                                    value="{{trustApplicationApplicant.ientCustomer.firstName}}"></view-label>
                                                <view-label class="pb10" label="Middle Name"
                                                    value="{{trustApplicationApplicant.ientCustomer.middleName}}"></view-label>
                                                <view-label class="pb10" label="Last Name"
                                                    value="{{trustApplicationApplicant.ientCustomer.lastName}}"></view-label>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="Date Of Birth"
                                                    value="{{trustApplicationApplicant.ientCustomer.dateOfBirth | appDate}}"></view-label>
                                                <view-label class="pb10" label="Date Of Death"
                                                    value="{{trustApplicationApplicant.ientCustomer.dateOfDeath |appDate}}"></view-label>

                                                <view-label class="pb10" label="Gender"
                                                    value="{{trustApplicationApplicant.ientCustomer.genderDescription}}"></view-label>
                                                <view-label class="pb10" label="Nationality"
                                                    value="{{trustApplicationApplicant.ientCustomer.nationalityDescription}}"></view-label>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="Email ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.emailId}}"></view-label>
                                                <view-label class="pb10" label="Contact No"
                                                    value="{{trustApplicationApplicant.ientCustomer.contactNo}}"></view-label>
                                                <view-label class="pb10" label="Alternate Contact No"
                                                    value="{{trustApplicationApplicant.ientCustomer.alternateContactNo}}"></view-label>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="Father Name" value=""></view-label>
                                                <view-label class="pb10" label="Mother Name" value=""></view-label>
                                                <view-label class="pb10" label="Guardian Name" value=""></view-label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Address Details</div>
                                            <div class=" box-pad">
                                                <view-label label="Line 1"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.line1}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Line 2"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.line2}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Line 3"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.line3}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Province"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.provinceDescription}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Island"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.islandDescription}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Tikina"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.tikinaDescription}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Village"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.village}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Po Box No"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.poBoxNo}}"
                                                    class="pb10"></view-label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> KYC Details</div>
                                            <div class=" box-pad">
                                                <view-label label="Birth Reg No"
                                    value="{{trustApplicationApplicant.ientCustomer.birthRegNo}}"
                                    class="pb10"></view-label>
                                                <view-label label="TIN"
                                                    value="{{trustApplicationApplicant.ientCustomer.tin}}"
                                                    class="pb10"></view-label>
                                                <view-label label="FNPF No"
                                                    value="{{trustApplicationApplicant.ientCustomer.fnpfNo}}"
                                                    class="pb10"></view-label>
                                                    <view-label label="Voter ID"
                                                        value={{trustApplicationApplicant.ientCustomer.voterId}}
                                                        class="pb10"></view-label>
                                                <view-label label="Driving License No"
                                                    value="{{trustApplicationApplicant.ientCustomer.driverLicenseNo}}"
                                                    class="pb10"></view-label>
                                                <!-- <view-label label="National ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.nationalityDescription}}"
                                                    class="pb10"></view-label> -->

                                                <view-label label="Passport No"
                                                    value="{{trustApplicationApplicant.ientCustomer.passportNo}}"
                                                    class="pb10"></view-label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header ">Social Platform Details</div>
                                            <div class=" box-pad">
                                                <view-label label="Facebook ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.facebookId}}"
                                                    class="pb10"></view-label>
                                                <view-label label="LinkedIn ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.linkedinId}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Whatsapp"
                                                    value="{{trustApplicationApplicant.ientCustomer.whatsappNumber}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Viber"
                                                    value="{{trustApplicationApplicant.ientCustomer.viberNumber}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Skype ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.skypeId}}"
                                                    class="pb10"></view-label>

                                            </div>
                                        </div>
                                    </div>
                                </row>
                            </form>
                            }
                        </app-tab>
                        <app-tab tabTitle=" Applicant Additional Information">
                            @if(applicantAddnData === true ){

                            <form #applicantForm="ngForm">
                                <div class="sub-table">
                                    <table class="w100">
                                        <tr>
                                            <th>Children Name </th>
                                            <th>Date Of Birth</th>
                                            <th>Gender</th>

                                            <th><app-icon-button name="table-add" toolTip="Add New"
                                                    (click)="addNewApplicantItemLst()"></app-icon-button></th>
                                        </tr>
                                        @for( data of applicantAddnTableData;track data; let i = $index){
                                        <tr>
                                            <td class="w33"> <app-input-control [(ngModel)]="data.childrenName"
                                                    [errorTrue]="errorTrue" [required]="true"
                                                    class="d-flex justify-center"
                                                    name="childrenName{{i}}"></app-input-control>
                                            </td>
                                            <td class="w33"> <app-input-control [(ngModel)]="data.dateOfBirth"
                                                    name="dateOfBirth{{i}}" [maxDate]="currentDate"
                                                    class="d-flex justify-center" [errorTrue]="errorTrue"
                                                    [required]="true" type="date"></app-input-control>
                                            </td>
                                            <td class="w33"><app-input-control [(ngModel)]="data.genderValue"
                                                    type="select" class="d-flex justify-center"
                                                    [items]="initialData.DDLValues.DDLGender" key="constant"
                                                    keyName="description" valueType="string" [errorTrue]="errorTrue"
                                                    [required]="true" defaultOption="--Select--"
                                                    name="genderValue{{i}}">
                                                </app-input-control>
                                            </td>
                                            <td class="w33">
                                                <app-icon-button name="doc-delete" toolTip="Delete"
                                                    (click)="spliceApplicantAddn(data)"></app-icon-button>
                                            </td>

                                        </tr>
                                        }
                                    </table>
                                </div>
                            </form>

                            }
                            @if( applicantAddnData === false){
                            <div class="outer-content-wrapper">
                                <div class="content-wrapper">
                                    <div class="box h100 m10px">
                                        <div class="box-header ">Applicant Additional Information</div>
                                        <div class=" box-pad">
                                            <app-table [pagination]="pagination" [columns]="applicantAddnColumns"
                                                [columnsName]="applicantAddnColumnsName" [hideSelectAll]="true"
                                                [dataSource]="applicantAddnTableData" [showPaginator]="false"
                                                columnID="trustApplicationDocumentId">
                                                <ng-template cellDef="childrenName" let-element>
                                                    <div class="pointer text-underline"
                                                        (click)="openApplicantAddn(element.trustApplicationParentAddtionalInfoId)">
                                                        {{element.childrenName}}</div>
                                                </ng-template>
                                                <ng-template #slotRight>
                                                    <app-icon-button name="add" toolTip="Add New"
                                                        (click)="createApplicantAddn()"></app-icon-button>
                                                </ng-template>
                                            </app-table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            }
                        </app-tab>
                    </app-tab-group>

                </div>
            </scroll>
        </div>
    </div>
</ng-template>

<ng-template #applicantInfo>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Applicant
                Information<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right d-flex gap-10">
                @if(editApplicantBtn === true && trustApplication.createButtonHide !=='Y' ){
                <app-icon-button name="edit" toolTip="Edit" (click)="editTrustApplicant()"></app-icon-button>
                }
                @else if(editClientBtn === false){
                @if(addNewApplicant === false){

                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Update" (click)="updateApplicant()"></app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="openTrustApplicationApplicant(this.trustApplicationApplicant.trustApplicationApplicantId,'refresh')"></app-icon-button>

                </div>
                }
                @if(addNewApplicant === true) {
                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Save" (click)="saveApplicant()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearApplicantData()"></app-icon-button>

                </div>
                }
                }
                <app-icon-button name="close" toolTip="Close"
                    (click)="dialogCloseAll();getTrustApplicantList()"></app-icon-button>
            </div>
        </div>
        <div class="dialog-content">
            <div class="mb20"></div>
            <scroll>
                @if(data.showErrorMessage){
                <div class="error-panel">
                    <app-error-message></app-error-message>
                </div>
                }
                <div class="content-wrapper">
                    @if(applicantSearch === true){
                    <div class="pb10"></div>
                    <div class="d-flex align-items-center">
                        <div class="col-md-3 pl15">
                            <app-input-control label="Customer "
                                [(ngModel)]="trustApplicationApplicant.ientCustomer.customerId" name="customerId"
                                [items]="initialData.DDLValues.DDLCustomer" key="id" type="select" keyName="fullName"
                                valueType="int"
                                (onSelect)="openCustomerForApplicant(trustApplicationApplicant.ientCustomer.customerId)"></app-input-control>
                        </div>
                        <div class="col-md-1">
                            <app-icon-button name="search" toolTip="Search"
                                (click)="customerSearch('applicant')"></app-icon-button>
                        </div>
                    </div>
                    }
                    <app-tab-group (tabChange)="onTabChange($event)">
                        <app-tab tabTitle="Applicant"> @if(editApplicantData === true){
                            <form #applicantForm="ngForm">
                                <row>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Applicant Information</div>
                                            <div class=" box-pad">
                                                <app-input-control class="pb10" label="Applicant CRM No"
                                                    name="customerRefNo" [btnClicked]="true"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.customerRefNo"></app-input-control>
                                                <div class="label-data">Is Primary Applicant</div>
                                                <div class="status-toggle d-flex align-items-center">
                                                    <mat-slide-toggle class="pb10"
                                                        [checked]="trustApplicationApplicant.isPrimaryApplicant==='Y'"
                                                        (change)="applicantIsPrimary($event)"
                                                        color="primary"></mat-slide-toggle>

                                                    <div class="pb10">
                                                        @if(trustApplicationApplicant.isPrimaryApplicant==='Y'){
                                                        Yes
                                                        }
                                                        @else{
                                                        No
                                                        }
                                                    </div>
                                                </div>
                                                <!-- <app-input-control class="pb10" label="Client Name" name=""
                                            [(ngModel)]="trustApplicationClient"></app-input-control> -->
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="First Name" name="firstName"
                                                    [errorTrue]="errorTrue" [required]="true" [maxLength]="250"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.firstName"></app-input-control>
                                                <app-input-control class="pb10" label="Middle Name" name="middleName"
                                                    [maxLength]="250"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.middleName"></app-input-control>
                                                <app-input-control class="pb10" label="Last Name" name="lastName"
                                                    [maxLength]="250" [errorTrue]="errorTrue" [required]="true"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.lastName"></app-input-control>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="Date Of Birth" name="dateOfBirth"
                                                    [errorTrue]="errorTrue" [required]="true" type="date"
                                                    [maxDate]="currentDate"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.dateOfBirth "></app-input-control>
                                                <app-input-control class="pb10" label="Date Of Death" name="dateOfDeath"
                                                    [maxDate]="currentDate" type="date"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.dateOfDeath "></app-input-control>

                                                <app-input-control class="pb10" label="Gender" name="genderValue"
                                                    [errorTrue]="errorTrue" [required]="true"
                                                    [items]="initialData.DDLValues.DDLGender" key="constant"
                                                    keyName="description" type="select" defaultOption="--Select--"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.genderValue"></app-input-control>
                                                <app-input-control class="pb10" label="Nationality"
                                                    name="nationalityValue"
                                                    [items]="initialData.DDLValues.DDLNationality" key="constant"
                                                    [errorTrue]="errorTrue" [required]="true" keyName="description"
                                                    type="select" defaultOption="--Select--"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.nationalityValue"></app-input-control>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="Email ID" name="emailId"
                                                    type="email"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.emailId"></app-input-control>
                                                <app-input-control class="pb10" label="Contact No" name="contactNo"
                                                    type="number" [errorTrue]="errorTrue" [required]="true"
                                                    [minLength]="5" [maxLength]="15"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.contactNo"></app-input-control>
                                                <app-input-control class="pb10" label="Alternate Contact No"
                                                    name="alternateContactNo" type="number" [minLength]="5"
                                                    [maxLength]="15"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.alternateContactNo"></app-input-control>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <app-input-control class="pb10" label="Father Name"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.fatherName"
                                                    name="fatherName"></app-input-control>
                                                <app-input-control class="pb10" label="Mother Name"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.motherName"
                                                    name="motherName"></app-input-control>
                                                <app-input-control class="pb10" label="Guardian Name"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.gaurdianName"
                                                    name="gaurdianName"></app-input-control>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Address Details</div>
                                            <div class=" box-pad">
                                                <app-address-edit
                                                    [ientAddress]="trustApplicationApplicant.ientCustomer.iResidentialaddress"
                                                    [errorTrue]="errorTrue" type="residential"></app-address-edit>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header ">
                                                KYC Details <span>(Any one field is Mandatory)</span>
                                            </div>
                                            <div class="box-pad">
                                                <div class="col-md-12"><app-input-control type="text"
                                                    label="Birth Reg No"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.birthRegNo"
                                                    name="birthRegNo" [maxLength]="20"
                                                    [errorTrue]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.passportNo==='' && errorTrue "
                                                    [required]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.passportNo==='' " />
                                            </div>
                                            <div class="col-md-12"><app-input-control type="text" label="TIN"
                                                [(ngModel)]="trustApplicationApplicant.ientCustomer.tin"
                                                name="tin" [maxLength]="20"
                                                [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>
                                                <div class="col-md-12"><app-input-control type="text" label="FNPF No"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.fnpfNo"
                                                        [maxLength]="10" name="fnpfNo"></app-input-control>
                                                </div>
                                                <div class="col-md-12"><app-input-control type="text" label="Voter ID"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.voterId"
                                                    name="voterId" [maxLength]="20"
                                                    [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                    [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                            </div>
                                                <div class="col-md-12"><app-input-control type="text"
                                                        label="Driving License No"
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.driverLicenseNo"
                                                        name="driverLicenseNo" [maxLength]="20"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                                </div>

                                                <!-- <div class="col-md-12"><app-input-control type="text"
                                                        label="National ID"
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.nationalId"
                                                        name="nationalId" [maxLength]="20"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.passportNo===''&& trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                                </div> -->

                                                <div class="col-md-12"><app-input-control type="text"
                                                        label="Passport No"
                                                        [(ngModel)]="trustApplicationApplicant.ientCustomer.passportNo"
                                                        name="passportNo" [maxLength]="20"
                                                        [errorTrue]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo===''&& trustApplicationApplicant.ientCustomer.birthRegNo===''  && errorTrue "
                                                        [required]="trustApplicationApplicant.ientCustomer.tin===''&& trustApplicationApplicant.ientCustomer.driverLicenseNo==='' && trustApplicationApplicant.ientCustomer.voterId==='' && trustApplicationApplicant.ientCustomer.fnpfNo==='' && trustApplicationApplicant.ientCustomer.birthRegNo==='' "></app-input-control>
                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header ">Social Platform Details</div>
                                            <div class=" box-pad">
                                                <app-input-control label="Facebook ID" name="facebookId"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.facebookId"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="LinkedIn ID" name="linkedinId"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.linkedinId"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="Whatsapp" name="whatsappNumber"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.whatsappNumber"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="Viber" name="viberNumber"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.viberNumber"
                                                    class="pb10"></app-input-control>
                                                <app-input-control label="Skype ID" name="skypeId"
                                                    [(ngModel)]="trustApplicationApplicant.ientCustomer.skypeId"
                                                    class="pb10"></app-input-control>

                                            </div>
                                        </div>
                                    </div>
                                </row>
                            </form>
                            }
                            @if(editApplicantData === false){
                            <form #applicantForm="ngForm">
                                <row>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Applicant Information</div>
                                            <div class=" box-pad">
                                                <view-label class="pb10" label="Applicant CRM No"
                                                    value="{{trustApplicationApplicant.ientCustomer.customerRefNo}}"></view-label>
                                                @if(clientToggleActive === true){
                                                <div class="label-data">Is Primary Applicant</div>
                                                <div class="status-toggle d-flex align-items-center">
                                                    <mat-slide-toggle class="pb10"
                                                        [checked]="trustApplicationApplicant.isPrimaryApplicant==='Y'"
                                                        (change)="applicantIsPrimary($event)"
                                                        color="primary"></mat-slide-toggle>
                                                    @if(trustApplicationApplicant.isPrimaryApplicant==='Y'){
                                                    Yes
                                                    }
                                                    @else{
                                                    No
                                                    }
                                                </div>
                                                }
                                                @else{
                                                <view-label class="pb10" label="Is Primary Applicant1"
                                                    value="{{trustApplicationApplicant.isPrimaryApplicant}}"></view-label>
                                                }
                                                <!-- <view-label class="pb10" label="Client Name"
                                        value="{{trustApplicationApplicant}}"></view-label> -->
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="First Name"
                                                    value="{{trustApplicationApplicant.ientCustomer.firstName}}"></view-label>
                                                <view-label class="pb10" label="Middle Name"
                                                    value="{{trustApplicationApplicant.ientCustomer.middleName}}"></view-label>
                                                <view-label class="pb10" label="Last Name"
                                                    value="{{trustApplicationApplicant.ientCustomer.lastName}}"></view-label>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="Date Of Birth"
                                                    value="{{trustApplicationApplicant.ientCustomer.dateOfBirth | appDate}}"></view-label>
                                                <view-label class="pb10" label="Date Of Death"
                                                    value="{{trustApplicationApplicant.ientCustomer.dateOfDeath |appDate}}"></view-label>

                                                <view-label class="pb10" label="Gender"
                                                    value="{{trustApplicationApplicant.ientCustomer.genderDescription}}"></view-label>
                                                <view-label class="pb10" label="Nationality"
                                                    value="{{trustApplicationApplicant.ientCustomer.nationalityDescription}}"></view-label>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="Email ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.emailId}}"></view-label>
                                                <view-label class="pb10" label="Contact No"
                                                    value="{{trustApplicationApplicant.ientCustomer.contactNo}}"></view-label>
                                                <view-label class="pb10" label="Alternate Contact No"
                                                    value="{{trustApplicationApplicant.ientCustomer.alternateContactNo}}"></view-label>
                                                <div class="bottom-border"></div>
                                                <div class="pb10"></div>
                                                <view-label class="pb10" label="Father Name" value=""></view-label>
                                                <view-label class="pb10" label="Mother Name" value=""></view-label>
                                                <view-label class="pb10" label="Guardian Name" value=""></view-label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> Address Details</div>
                                            <div class=" box-pad">
                                                <view-label label="Line 1"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.line1}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Line 2"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.line2}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Line 3"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.line3}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Province"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.provinceDescription}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Island"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.islandDescription}}"
                                                    class="pb10"></view-label>
                                                    <view-label label="Tikina"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.tikinaDescription}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Village"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.village}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Po Box No"
                                                    value="{{trustApplicationApplicant.ientCustomer.iResidentialaddress.poBoxNo}}"
                                                    class="pb10"></view-label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header "> KYC Details</div>
                                            <div class=" box-pad">
                                                <view-label label="Birth Reg No"
                                    value="{{trustApplicationApplicant.ientCustomer.birthRegNo}}"
                                    class="pb10"></view-label>
                                                <view-label label="TIN"
                                                value="{{trustApplicationApplicant.ientCustomer.tin}}"
                                                class="pb10"></view-label>
                                                <view-label label="FNPF No"
                                                    value="{{trustApplicationApplicant.ientCustomer.fnpfNo}}"
                                                    class="pb10"></view-label>
                                                    <view-label label="Voter ID"
                                                    value={{trustApplicationApplicant.ientCustomer.voterId}}
                                                    class="pb10"></view-label>
                                                    <view-label label="Driving License No"
                                                        value="{{trustApplicationApplicant.ientCustomer.driverLicenseNo}}"
                                                        class="pb10"></view-label>
                                                <!-- <view-label label="National ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.nationalityDescription}}"
                                                    class="pb10"></view-label> -->

                                                <view-label label="Passport No"
                                                    value="{{trustApplicationApplicant.ientCustomer.passportNo}}"
                                                    class="pb10"></view-label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="box h100">
                                            <div class="box-header ">Social Platform Details</div>
                                            <div class=" box-pad">
                                                <view-label label="Facebook ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.facebookId}}"
                                                    class="pb10"></view-label>
                                                <view-label label="LinkedIn ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.linkedinId}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Whatsapp"
                                                    value="{{trustApplicationApplicant.ientCustomer.whatsappNumber}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Viber"
                                                    value="{{trustApplicationApplicant.ientCustomer.viberNumber}}"
                                                    class="pb10"></view-label>
                                                <view-label label="Skype ID"
                                                    value="{{trustApplicationApplicant.ientCustomer.skypeId}}"
                                                    class="pb10"></view-label>

                                            </div>
                                        </div>
                                    </div>
                                </row>
                            </form>
                            }
                        </app-tab>
                        <app-tab tabTitle=" Applicant Additional Information">
                            @if(applicantAddnData === true ){

                            <form #applicantForm="ngForm">
                                <div class="sub-table">
                                    <table class="w100">
                                        <tr>
                                            <th>Children Name </th>
                                            <th>Date Of Birth</th>
                                            <th>Gender</th>

                                            <th><app-icon-button name="table-add" toolTip="Add New"
                                                    (click)="addNewApplicantItemLst()"></app-icon-button></th>
                                        </tr>
                                        @for( data of applicantAddnTableData;track data; let i = $index){
                                        <tr>
                                            <td class="w33"> <app-input-control [(ngModel)]="data.childrenName"
                                                    [errorTrue]="errorTrue" [required]="true"
                                                    class="d-flex justify-center"
                                                    name="childrenName{{i}}"></app-input-control>
                                            </td>
                                            <td class="w33"> <app-input-control [(ngModel)]="data.dateOfBirth"
                                                    name="dateOfBirth{{i}}" [maxDate]="currentDate"
                                                    class="d-flex justify-center" [errorTrue]="errorTrue"
                                                    [required]="true" type="date"></app-input-control>
                                            </td>
                                            <td class="w33"><app-input-control [(ngModel)]="data.genderValue"
                                                    type="select" class="d-flex justify-center"
                                                    [items]="initialData.DDLValues.DDLGender" key="constant"
                                                    keyName="description" valueType="string" [errorTrue]="errorTrue"
                                                    [required]="true" defaultOption="--Select--"
                                                    name="genderValue{{i}}">
                                                </app-input-control>
                                            </td>
                                            <td class="w33">
                                                <app-icon-button name="doc-delete" toolTip="Delete"
                                                    (click)="spliceApplicantAddn(data)"></app-icon-button>
                                            </td>

                                        </tr>
                                        }
                                    </table>
                                </div>
                            </form>

                            }
                            @if( applicantAddnData === false){
                            <div class="outer-content-wrapper">
                                <div class="content-wrapper">
                                    <div class="box h100 m10px">
                                        <div class="box-header ">Applicant Additional Information</div>
                                        <div class=" box-pad">
                                            <app-table [pagination]="pagination" [columns]="applicantAddnColumns"
                                                [columnsName]="applicantAddnColumnsName" [hideSelectAll]="true"
                                                [dataSource]="applicantAddnTableData" [showPaginator]="false"
                                                columnID="trustApplicationDocumentId">
                                                <ng-template cellDef="childrenName" let-element>
                                                    <div class="pointer text-underline"
                                                        (click)="openApplicantAddn(element.trustApplicationParentAddtionalInfoId)">
                                                        {{element.childrenName}}</div>
                                                </ng-template>
                                                <ng-template #slotRight>
                                                    <app-icon-button name="add" toolTip="Add New"
                                                        (click)="createApplicantAddn()"></app-icon-button>
                                                </ng-template>
                                            </app-table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            }
                        </app-tab>
                    </app-tab-group>

                </div>
            </scroll>
        </div>
    </div>
</ng-template>

<ng-template #beniDialog>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Beneficiary
                Information<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right">
                <div class="d-flex gap-10">
                    @if(editClientBtn === true && trustApplication.createButtonHide !=='Y' ){
                    <app-icon-button name="edit" toolTip="Edit" (click)="editClientDetails()"></app-icon-button>

                    }
                    @else if(editClientBtn === false){
                    @if(this.trustApplicationBenificiary.trustApplicationBeneficiaryId !==0){
                    <app-icon-button name="save" toolTip="Update" (click)="saveBenificiary()"> </app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="refreshTrustApplicationBenificiary(this.trustApplicationBenificiary.trustApplicationBeneficiaryId,'refresh')"></app-icon-button>


                    }
                    @else{

                    <app-icon-button name="save" toolTip="Save" (click)="saveBenificiary()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearBenificiaryData()"></app-icon-button>

                    }
                    }
                    <app-icon-button name="close" toolTip="Close" (click)="closeAllDialog()"></app-icon-button>
                </div>



            </div>
        </div>
        <div class="dialog-content">
            <scroll>

                    @if(data.showErrorMessage){
                    <div class="error-panel">
                        <app-error-message></app-error-message>
                    </div>
                    }
                    @if(createClientCustomer){
                    <div class="pb10"></div>
                    <div class="d-flex align-items-center">
                        <div class="col-md-3 pl10">
                            <app-input-control label="Customer"
                                [(ngModel)]="trustApplicationBenificiary.beneficaryCustomerId" name="customerId"
                                [items]="initialData.DDLValues.DDLCustomer" key="id" type="select" keyName="fullName"
                                (onSelect)="openCustomerForBenificiary(trustApplicationBenificiary.beneficaryCustomerId)"></app-input-control>
                        </div>
                        <div class="col-md-1">
                            <app-icon-button name="search" toolTip="Search"
                                (click)="customerSearch('beni')"></app-icon-button>
                        </div>
                    </div>
                    }

                    @if(clientView === 'show'){
                        <form #benificiaryForm="ngForm" class="dialog-content-inner">

                    <row>
                        <div class="col-md-3">
                            <div class="box h100">
                                <div class="box-header "> Beneficiary Information</div>
                                <div class=" box-pad">
                                    <view-label class="pb10" label="Beneficiary CRM No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.customerRefNo}}"></view-label>
                                        <view-label class="pb10" label="Date Of Birth"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.dateOfBirth | appDate}}"></view-label>
                                    @if(clientToggleActive ){
                                    <div class="label-data">Is Minor</div>
                                    <div class="status-toggle d-flex align-items-center mb20">
                                        <mat-slide-toggle class="pb10 pt10"
                                            [checked]="trustApplicationBenificiary.isMinor==='Y'" 
                                            (change)="benificiaryIsMinor($event)" color="primary"></mat-slide-toggle>
                                        <div>
                                            @if(trustApplicationBenificiary.isMinor==='Y'){
                                            Yes
                                            }
                                            @if(trustApplicationBenificiary.isMinor==='N'){
                                            No
                                            }
                                        </div>
                                    </div>

                                    <app-input-control label="Relationship"
                                        [(ngModel)]="trustApplicationBenificiary.relationshipValue"
                                        name="relationshipValue" [items]="initialData.DDLValues.DDLRelationship"
                                        key="constant" [errorTrue]="errorTrue" [required]="true" type="select"
                                        defaultOption="--Select--" keyName="description"></app-input-control>
                                    @if(trustApplicationBenificiary.isMinor==='Y'){
                                    <app-input-control label="Guardian Customer No"
                                        [(ngModel)]="trustApplicationBenificiary.gaurdianCustomerId"
                                        name="gaurdianCustomerId" [items]="initialData.DDLValues.DDLCustomer" key="id"
                                        (onSelect)="openCustomerForGuardian(trustApplicationBenificiary.gaurdianCustomerId)"
                                        [errorTrue]="errorTrue" [required]="true" type="select"
                                        defaultOption="--Select--" keyName="fullName"></app-input-control>
                                    }
                                    }
                                    @else{
                                    <view-label class="pb10" label="Is Minor"
                                        value="{{trustApplicationBenificiary.isMinor}}"></view-label>

                                    }
                                    <!-- <view-label class="pb10" label="Client Name"
                                    value="{{trustApplicationApplicant}}"></view-label> -->
                                    <div class="bottom-border"></div>
                                    <div class="pb10"></div>
                                    <view-label class="pb10" label="First Name"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.firstName}}"></view-label>
                                    <view-label class="pb10" label="Middle Name"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.middleName}}"></view-label>
                                    <view-label class="pb10" label="Last Name"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.lastName}}"></view-label>
                                    <div class="bottom-border"></div>
                                    <div class="pb10"></div>

                                    <view-label class="pb10" label="Date Of Death"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.dateOfDeath |appDate}}"></view-label>
                                    <view-label class="pb10" label="Birth Reg No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo}}"></view-label>
                                    <view-label class="pb10" label="Gender"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.genderDescription}}"></view-label>
                                    <view-label class="pb10" label="Nationality"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.nationalityDescription}}"></view-label>
                                    <div class="bottom-border"></div>
                                    <div class="pb10"></div>
                                    <view-label class="pb10" label="Email ID"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.emailId}}"></view-label>
                                    <view-label class="pb10" label="Contact No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.contactNo}}"></view-label>
                                    <view-label class="pb10" label="Alternate Contact No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.alternateContactNo}}"></view-label>
                                    <div class="bottom-border"></div>
                                    <div class="pb10"></div>
                                    <view-label class="pb10" label="Father Name"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.fatherName}}"></view-label>
                                    <view-label class="pb10" label="Mother Name"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.motherName}}"></view-label>
                                    <view-label class="pb10" label="Guardian Name"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.gaurdianName}}"></view-label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="box h100">
                                <div class="box-header "> Address Details</div>
                                <div class=" box-pad">
                                    <view-label label="Line 1"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.line1}}"
                                        class="pb10"></view-label>
                                    <view-label label="Line 2"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.line2}}"
                                        class="pb10"></view-label>
                                    <view-label label="Line 3"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.line3}}"
                                        class="pb10"></view-label>
                                    <view-label label="Province"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.provinceDescription}}"
                                        class="pb10"></view-label>
                                    <view-label label="Island"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.islandDescription}}"
                                        class="pb10"></view-label>
                                        <view-label label="Tikina"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.tikinaDescription}}"
                                        class="pb10"></view-label>
                                    <view-label label="Village"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.village}}"
                                        class="pb10"></view-label>
                                    <view-label label="Po Box No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress.poBoxNo}}"
                                        class="pb10"></view-label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="box h100">
                                <div class="box-header "> KYC Details</div>
                                <div class=" box-pad">
                                    <view-label label="Birth Reg No"
                                    value="{{trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo}}"
                                    class="pb10"></view-label>
                                    <view-label label="TIN"
                                    value="{{trustApplicationBenificiary.ientBeneficaryCustomer.tin}}"
                                    class="pb10"></view-label>
                                    <view-label label="FNPF No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo}}"
                                        class="pb10"></view-label>
                                        <view-label label="Voter ID"
                                        value={{trustApplicationBenificiary.ientBeneficaryCustomer.voterId}}
                                        class="pb10"></view-label>
                                    <view-label label="Driving License No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo}}"
                                        class="pb10"></view-label>

                                    <!-- <view-label label="National ID"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.nationalId}}"
                                        class="pb10"></view-label> -->

                                    <view-label label="Passport No"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.passportNo}}"
                                        class="pb10"></view-label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="box h100">
                                <div class="box-header ">Social Platform Details</div>
                                <div class=" box-pad">
                                    <view-label label="Facebook ID"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.facebookId}}"
                                        class="pb10"></view-label>
                                    <view-label label="LinkedIn ID"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.linkedinId}}"
                                        class="pb10"></view-label>
                                    <view-label label="Whatsapp"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.whatsappNumber}}"
                                        class="pb10"></view-label>
                                    <view-label label="Viber"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.viberNumber}}"
                                        class="pb10"></view-label>
                                    <view-label label="Skype ID"
                                        value="{{trustApplicationBenificiary.ientBeneficaryCustomer.skypeId}}"
                                        class="pb10"></view-label>

                                </div>
                            </div>
                        </div>
                    </row>
                    </form>
                    }

                    @if(clientView === 'hide'){
                    <form #benificiaryForm="ngForm">
                        <row>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Beneficiary Information</div>
                                    <div class=" box-pad">
                                        <app-input-control class="pb10 " label="Beneficiary CRM No" name="customerRefNo"
                                            [btnClicked]="true"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.customerRefNo"></app-input-control>
                                            <app-input-control class="pb10" label="Date Of Birth" name="dateOfBirth"
                                            type="date" [maxDate]="currentDate" [maxDate]="currentDate"
                                            [errorTrue]="errorTrue" [required]="true" (onChange)="ageCalculator($event)"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.dateOfBirth "></app-input-control>
                                        <div class="label-data">Is Minor</div>
                                        <div class="status-toggle d-flex align-items-center">
                                            <mat-slide-toggle class="pb10 pt10" [disabled]="true"
                                                [checked]="trustApplicationBenificiary.isMinor==='Y'"
                                                (onChange)="benificiaryIsMinor($event)"
                                                color="primary"></mat-slide-toggle>
                                            <div>
                                                @if(trustApplicationBenificiary.isMinor==='Y'){
                                                Yes
                                                }
                                                @if(trustApplicationBenificiary.isMinor==='N'){
                                                No
                                                }
                                            </div>
                                        </div>
                                        @if(trustApplicationBenificiary.isMinor==='Y'){
                                        <app-input-control label="Guardian Customer "
                                            [(ngModel)]="trustApplicationBenificiary.gaurdianCustomerId"
                                            name="gaurdianCustomerId" [items]="initialData.DDLValues.DDLCustomer"
                                            key="id" [errorTrue]="errorTrue" [required]="true" type="select"
                                            defaultOption="--Select--" keyName="fullName"></app-input-control>
                                        }
                                        <app-input-control label="Relationship"
                                            [(ngModel)]="trustApplicationBenificiary.relationshipValue"
                                            name="relationshipValue" [items]="initialData.DDLValues.DDLRelationship"
                                            key="constant" [errorTrue]="errorTrue" [required]="true" type="select"
                                            defaultOption="--Select--" keyName="description"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="First Name" name="firstName"
                                            [errorTrue]="errorTrue" [required]="true" [maxLength]="250"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.firstName"></app-input-control>
                                        <app-input-control class="pb10" label="Middle Name" name="middleName"
                                            [maxLength]="250"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.middleName"></app-input-control>
                                        <app-input-control class="pb10" label="Last Name" name="lastName"
                                            [maxLength]="250" [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.lastName"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>

                                        <app-input-control class="pb10" label="Date Of Death" name="dateOfDeath"
                                            type="date" [maxDate]="currentDate"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.dateOfDeath "></app-input-control>

                                        <app-input-control class="pb10" label="Gender" name="genderValue"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [items]="initialData.DDLValues.DDLGender" key="constant"
                                            keyName="description" type="select"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.genderValue"></app-input-control>
                                        <app-input-control class="pb10" label="Nationality" name="nationalityValue"
                                            [items]="initialData.DDLValues.DDLNationality" key="constant"
                                            keyName="description" type="select" defaultOption="--Select--"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.nationalityValue"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Email ID" name="emailId" type="email"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.emailId"></app-input-control>
                                        <app-input-control class="pb10" label="Contact No" name="contactNo"
                                            type="number" [errorTrue]="errorTrue" [required]="true" [minLength]="5"
                                            [maxLength]="10"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.contactNo"></app-input-control>
                                        <app-input-control class="pb10" label="Alternate Contact No"
                                            name="alternateContactNo" type="number" [minLength]="5" [maxLength]="10"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.alternateContactNo"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Father Name"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.fatherName"
                                            name="fatherName"></app-input-control>
                                        <app-input-control class="pb10" label="Mother Name"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.motherName"
                                            name="motherName"></app-input-control>
                                        <app-input-control class="pb10" label="Guardian Name"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.gaurdianName"
                                            name="gaurdianName"></app-input-control>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Address Details</div>
                                    <div class=" box-pad">
                                        <app-address-edit
                                            [ientAddress]="trustApplicationBenificiary.ientBeneficaryCustomer.iResidentialaddress"
                                            [errorTrue]="errorTrue" type="residential"></app-address-edit>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">
                                        KYC Details <span>(Any one field is Mandatory)</span>
                                    </div>
                                    <div class="box-pad">
                                        <div class="col-md-12"><app-input-control type="text" label="Birth Reg No"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo"
                                            name="birthRegNo" [maxLength]="20"
                                            [errorTrue]="trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.passportNo==='' && errorTrue "
                                            [required]="trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.passportNo==='' " />
                                    </div>
                                    <div class="col-md-12"><app-input-control type="text" label="TIN"
                                        [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.tin"
                                        name="tin" [maxLength]="20"
                                        [errorTrue]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' && errorTrue "
                                        [required]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' "></app-input-control>
                                </div>
                                        <div class="col-md-12"><app-input-control type="text" label="FNPF No"
                                                [errorTrue]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&&trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&&trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' "
                                                [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo"
                                                [maxLength]="10" name="fnpfNo"></app-input-control>
                                        </div>
                                        <div class="col-md-12"><app-input-control type="text" label="Voter ID"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.voterId"
                                            name="voterId" [maxLength]="20"
                                            [errorTrue]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&&trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' && errorTrue "
                                            [required]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&&trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' "></app-input-control>
                                    </div>
                                        <div class="col-md-12"><app-input-control type="text" label="Driving License No"
                                                [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo"
                                                name="driverLicenseNo" [maxLength]="20"
                                                [errorTrue]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&&trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&&trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' "></app-input-control>
                                        </div>

                                        <!-- <div class="col-md-12"><app-input-control type="text" label="National ID"
                                                [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.nationalId"
                                                name="nationalId" [maxLength]="20"
                                                [errorTrue]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' "></app-input-control>
                                        </div> -->

                                        <div class="col-md-12"><app-input-control type="text" label="Passport No"
                                                [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.passportNo"
                                                name="passportNo" [maxLength]="20"
                                                [errorTrue]="trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo===''&& trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo===''  && errorTrue "
                                                [required]="trustApplicationBenificiary.ientBeneficaryCustomer.tin===''&& trustApplicationBenificiary.ientBeneficaryCustomer.driverLicenseNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.voterId==='' && trustApplicationBenificiary.ientBeneficaryCustomer.fnpfNo==='' && trustApplicationBenificiary.ientBeneficaryCustomer.birthRegNo==='' "></app-input-control>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">Social Platform Details</div>
                                    <div class=" box-pad">
                                        <app-input-control label="Facebook ID" name="facebookId"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.facebookId"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="LinkedIn ID" name="linkedinId"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.linkedinId"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Whatsapp" name="whatsappNumber"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.whatsappNumber"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Viber" name="viberNumber"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.viberNumber"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Skype ID" name="skypeId"
                                            [(ngModel)]="trustApplicationBenificiary.ientBeneficaryCustomer.skypeId"
                                            class="pb10"></app-input-control>

                                    </div>
                                </div>
                            </div>
                        </row>
                    </form>
                    }
                    <div class="mb20"></div>

            </scroll>


        </div>
    </div>
</ng-template>

<ng-template #trusteeDialog>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Trustee
                Information<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right">
                <div class="d-flex gap-10">
                    @if(editClientBtn === true && trustApplication.createButtonHide !=='Y' ){
                    <app-icon-button name="edit" toolTip="Edit" (click)="editClientDetails()"></app-icon-button>

                    }
                    @else if(editClientBtn === false){
                    @if(trustApplicationTrustee.trustApplicationTrusteeId!==0){
                    <app-icon-button name="save" toolTip="Update" (click)="saveTrustee()"> </app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="openTrustApplicationTrustee(this.trustApplicationTrustee.trustApplicationTrusteeId,'refresh')"></app-icon-button>


                    }
                    @else {

                    <app-icon-button name="save" toolTip="Save" (click)="saveTrustee()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearTrusteeData()"></app-icon-button>
                    }
                    }
                    <app-icon-button name="close" toolTip="Close"
                        (click)="dialogCloseAll();getTrusteeList()"></app-icon-button>
                </div>
            </div>
        </div>
        <div class="dialog-content">
            <scroll>
                <div class="dialog-content-inner">
                    @if(data.showErrorMessage){
                    <div class="error-panel">
                        <app-error-message></app-error-message>
                    </div>
                    }
                    @if(this.createClientCustomer === true ){

                    <div class="pb10"></div>
                    <div class="d-flex align-items-center">
                        <div class="col-md-3 pl10">
                            <app-input-control label="Customer" [(ngModel)]="trustApplicationTrustee.customerId"
                                name="customerId " [items]="initialData.DDLValues.DDLCustomer" key="id" type="select"
                                keyName="fullName"
                                (onSelect)="openCustomerForTrustee(trustApplicationTrustee.customerId)"></app-input-control>
                        </div>
                        <div class="col-md-1">
                            <app-icon-button name="search" toolTip="Search"
                                (click)="customerSearch('trustee')"></app-icon-button>
                        </div>
                    </div>
                    }
                    @if(clientView === 'show'){
                    <form #trusteeForm="ngForm">
                        <row>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Trustee Information1</div>
                                    <div class=" box-pad">
                                        <view-label class="pb10" label="Trustee CRM No"
                                            value="{{trustApplicationTrustee.ientCustomer.customerRefNo}}"></view-label>
                                        @if(clientToggleActive){
                                        <div class="label-data">Is FPTCL</div>
                                        <div class="status-toggle d-flex align-items-center">
                                            <mat-slide-toggle class="pb10 pt10"
                                                [checked]="trustApplicationTrustee.isFptcl==='Y'"
                                                (change)="trusteeIsFptcl($event)" color="primary"></mat-slide-toggle>
                                            <div>
                                                @if(trustApplicationTrustee.isFptcl==='Y'){
                                                Yes
                                                }
                                                @if(trustApplicationTrustee.isFptcl==='N'){
                                                No
                                                }
                                            </div>
                                        </div>
                                        }
                                        @else{

                                        <view-label class="pb10" label="Is FPTCL"
                                            value="{{trustApplicationTrustee.isFptcl}}"></view-label>
                                        }
                                        <!-- <view-label class="pb10" label="Client Name"
                                    value="{{trustApplicationApplicant}}"></view-label> -->
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="First Name"
                                            value="{{trustApplicationTrustee.ientCustomer.firstName}}"></view-label>
                                        <view-label class="pb10" label="Middle Name"
                                            value="{{trustApplicationTrustee.ientCustomer.middleName}}"></view-label>
                                        <view-label class="pb10" label="Last Name"
                                            value="{{trustApplicationTrustee.ientCustomer.lastName}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Date Of Birth"
                                            value="{{trustApplicationTrustee.ientCustomer.dateOfBirth | appDate}}"></view-label>
                                        <view-label class="pb10" label="Date Of Death"
                                            value="{{trustApplicationTrustee.ientCustomer.dateOfDeath |appDate}}"></view-label>
                                        <view-label class="pb10" label="Birth Reg No"
                                            value="{{trustApplicationTrustee.ientCustomer.birthRegNo}}"></view-label>
                                        <view-label class="pb10" label="Gender"
                                            value="{{trustApplicationTrustee.ientCustomer.genderDescription}}"></view-label>
                                        <view-label class="pb10" label="Nationality"
                                            value="{{trustApplicationTrustee.ientCustomer.nationalityDescription}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Email ID"
                                            value="{{trustApplicationTrustee.ientCustomer.emailId}}"></view-label>
                                        <view-label class="pb10" label="Contact No"
                                            value="{{trustApplicationTrustee.ientCustomer.contactNo}}"></view-label>
                                        <view-label class="pb10" label="Alternate Contact No"
                                            value="{{trustApplicationTrustee.ientCustomer.alternateContactNo}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Father Name"
                                            value="{{trustApplicationTrustee.ientCustomer.fatherName}}"></view-label>
                                        <view-label class="pb10" label="Mother Name"
                                            value="{{trustApplicationTrustee.ientCustomer.motherName}}"></view-label>
                                        <view-label class="pb10" label="Guardian Name"
                                            value="{{trustApplicationTrustee.ientCustomer.gaurdianName}}"></view-label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Address Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Line 1"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.line1}}"
                                            class="pb10"></view-label>
                                        <view-label label="Line 2"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.line2}}"
                                            class="pb10"></view-label>
                                        <view-label label="Line 3"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.line3}}"
                                            class="pb10"></view-label>
                                        <view-label label="Province"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.provinceDescription}}"
                                            class="pb10"></view-label>
                                        <view-label label="Island"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.islandDescription}}"
                                            class="pb10"></view-label>
                                            <view-label label="Tikina"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.tikinaDescription}}"
                                            class="pb10"></view-label>
                                        <view-label label="Village"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.village}}"
                                            class="pb10"></view-label>
                                        <view-label label="Po Box No"
                                            value="{{trustApplicationTrustee.ientCustomer.iResidentialaddress.poBoxNo}}"
                                            class="pb10"></view-label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> KYC Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Birth Reg No"
                                    value="{{trustApplicationTrustee.ientCustomer.birthRegNo}}"
                                    class="pb10"></view-label>
                                        <view-label label="TIN" value="{{trustApplicationTrustee.ientCustomer.tin}}"
                                        class="pb10"></view-label>
                                        <view-label label="FNPF No"
                                            value="{{trustApplicationTrustee.ientCustomer.fnpfNo}}"
                                            class="pb10"></view-label>

                                        <view-label label="Voter ID"
                                            value={{trustApplicationTrustee.ientCustomer.voterId}}
                                            class="pb10"></view-label>
                                            <view-label label="Driving License No"
                                            value="{{trustApplicationTrustee.ientCustomer.driverLicenseNo}}"
                                            class="pb10"></view-label>
                                        <!-- <view-label label="National ID"
                                            value="{{trustApplicationTrustee.ientCustomer.nationalityDescription}}"
                                            class="pb10"></view-label>
                                       -->
                                        <view-label label="Passport No"
                                            value="{{trustApplicationTrustee.ientCustomer.passportNo}}"
                                            class="pb10"></view-label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">Social Platform Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Facebook ID"
                                            value="{{trustApplicationTrustee.ientCustomer.facebookId}}"
                                            class="pb10"></view-label>
                                        <view-label label="LinkedIn ID"
                                            value="{{trustApplicationTrustee.ientCustomer.linkedinId}}"
                                            class="pb10"></view-label>
                                        <view-label label="Whatsapp"
                                            value="{{trustApplicationTrustee.ientCustomer.whatsappNumber}}"
                                            class="pb10"></view-label>
                                        <view-label label="Viber"
                                            value="{{trustApplicationTrustee.ientCustomer.viberNumber}}"
                                            class="pb10"></view-label>
                                        <view-label label="Skype ID"
                                            value="{{trustApplicationTrustee.ientCustomer.skypeId}}"
                                            class="pb10"></view-label>

                                    </div>
                                </div>
                            </div>
                        </row>
                    </form>
                    }


                    @if(clientView === 'hide'){
                    <form #trusteeForm="ngForm">
                        <row>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Trustee Information</div>
                                    <div class=" box-pad">
                                        <app-input-control class="pb10 " label="Trustee CRM No" name="customerRefNo"
                                            [btnClicked]="true"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.customerRefNo"></app-input-control>
                                        <div class="label-data">Is FPTCL</div>
                                        <div class="status-toggle d-flex align-items-center">
                                            <mat-slide-toggle class="pb10 pt10"
                                                [checked]="trustApplicationTrustee.isFptcl==='Y'"
                                                (change)="trusteeIsFptcl($event)" color="primary"></mat-slide-toggle>
                                            <div>
                                                @if(trustApplicationTrustee.isFptcl==='Y'){
                                                Yes
                                                }
                                                @if(trustApplicationTrustee.isFptcl==='N'){
                                                No
                                                }
                                            </div>
                                        </div>


                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="First Name" name="firstName"
                                            [errorTrue]="errorTrue" [required]="true" [maxLength]="250"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.firstName"></app-input-control>
                                        <app-input-control class="pb10" label="Middle Name" name="middleName"
                                            [maxLength]="250"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.middleName"></app-input-control>
                                        <app-input-control class="pb10" label="Last Name" name="lastName"
                                            [maxLength]="250" [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.lastName"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Date Of Birth" name="dateOfBirth"
                                            type="date" [maxDate]="currentDate" [maxDate]="currentDate"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.dateOfBirth "></app-input-control>
                                        <app-input-control class="pb10" label="Date Of Death" name="dateOfDeath"
                                            type="date" [maxDate]="currentDate"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.dateOfDeath "></app-input-control>
                                        <app-input-control class="pb10" label="Birth Reg No" name="birthRegNo"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.birthRegNo"></app-input-control>
                                        <app-input-control class="pb10" label="Gender" name="genderValue"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [items]="initialData.DDLValues.DDLGender" key="constant"
                                            keyName="description" type="select"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.genderValue"></app-input-control>
                                        <app-input-control class="pb10" label="Nationality" name="nationalityValue"
                                            [items]="initialData.DDLValues.DDLNationality" key="constant"
                                            keyName="description" type="select" defaultOption="--Select--"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.nationalityValue"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Email ID" name="emailId" type="email"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.emailId"></app-input-control>
                                        <app-input-control class="pb10" label="Contact No" name="contactNo"
                                            type="number" [errorTrue]="errorTrue" [required]="true" [minLength]="5"
                                            [maxLength]="15"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.contactNo"></app-input-control>
                                        <app-input-control class="pb10" label="Alternate Contact No"
                                            name="alternateContactNo" type="number" [minLength]="5" [maxLength]="15"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.alternateContactNo"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Father Name"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.fatherName"
                                            name="fatherName"></app-input-control>
                                        <app-input-control class="pb10" label="Mother Name"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.motherName"
                                            name="motherName"></app-input-control>
                                        <app-input-control class="pb10" label="Guardian Name"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.gaurdianName"
                                            name="gaurdianName"></app-input-control>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Address Details</div>
                                    <div class=" box-pad">
                                        <app-address-edit
                                            [ientAddress]="trustApplicationTrustee.ientCustomer.iResidentialaddress"
                                            [errorTrue]="errorTrue" type="residential"></app-address-edit>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">
                                        KYC Details <span>(Any one field is Mandatory)</span>
                                    </div>
                                    <div class="box-pad">
                                        <div class="col-md-12"><app-input-control type="text" label="Birth Reg No"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.birthRegNo"
                                            name="birthRegNo" [maxLength]="20"
                                            [errorTrue]="trustApplicationTrustee.ientCustomer.tin===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.passportNo==='' && errorTrue "
                                            [required]="trustApplicationTrustee.ientCustomer.tin===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.passportNo==='' " />
                                    </div>
                                    <div class="col-md-12"><app-input-control type="text" label="TIN"
                                        [(ngModel)]="trustApplicationTrustee.ientCustomer.tin" name="tin"
                                        [maxLength]="20"
                                        [errorTrue]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo===''&& trustApplicationTrustee.ientCustomer.birthRegNo==='' && errorTrue "
                                        [required]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo===''&& trustApplicationTrustee.ientCustomer.birthRegNo==='' "></app-input-control>
                                </div>
                                        <div class="col-md-12"><app-input-control type="text" label="FNPF No"
                                                [errorTrue]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&&  trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&&  trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' "
                                                [(ngModel)]="trustApplicationTrustee.ientCustomer.fnpfNo"
                                                [maxLength]="10" name="fnpfNo"></app-input-control>
                                        </div>

                                        <div class="col-md-12"><app-input-control type="text" label="Voter ID"
                                                [(ngModel)]="trustApplicationTrustee.ientCustomer.voterId"
                                                name="voterId" [maxLength]="20"
                                                [errorTrue]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&&  trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&&  trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>
                                        <div class="col-md-12"><app-input-control type="text" label="Driving License No"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.driverLicenseNo"
                                            name="driverLicenseNo" [maxLength]="20"
                                            [errorTrue]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&&  trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' && errorTrue "
                                            [required]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&&  trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' "></app-input-control>
                                    </div>
                                        <!-- <div class="col-md-12"><app-input-control type="text" label="National ID"
                                                [(ngModel)]="trustApplicationTrustee.ientCustomer.nationalId"
                                                name="nationalId" [maxLength]="20"
                                                [errorTrue]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationTrustee.ientCustomer.passportNo===''&& trustApplicationTrustee.ientCustomer.tin===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo===''&& trustApplicationTrustee.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div> -->

                                        <div class="col-md-12"><app-input-control type="text" label="Passport No"
                                                [(ngModel)]="trustApplicationTrustee.ientCustomer.passportNo"
                                                name="passportNo" [maxLength]="20"
                                                [errorTrue]="trustApplicationTrustee.ientCustomer.tin===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo===''&& trustApplicationTrustee.ientCustomer.birthRegNo===''  && errorTrue "
                                                [required]="trustApplicationTrustee.ientCustomer.tin===''&& trustApplicationTrustee.ientCustomer.driverLicenseNo==='' && trustApplicationTrustee.ientCustomer.voterId==='' && trustApplicationTrustee.ientCustomer.fnpfNo==='' && trustApplicationTrustee.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">Social Platform Details</div>
                                    <div class=" box-pad">
                                        <app-input-control label="Facebook ID" name="facebookId"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.facebookId"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="LinkedIn ID" name="linkedinId"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.linkedinId"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Whatsapp" name="whatsappNumber"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.whatsappNumber"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Viber" name="viberNumber"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.viberNumber"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Skype ID" name="skypeId"
                                            [(ngModel)]="trustApplicationTrustee.ientCustomer.skypeId"
                                            class="pb10"></app-input-control>

                                    </div>
                                </div>
                            </div>
                        </row>
                    </form>
                    }
                    <div class="mb20"></div>
                </div>
            </scroll>


        </div>
    </div>
</ng-template>

<ng-template #settlorDialog>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title"> <ion-icon class="dialog-header-icon"
                    src="assets/icons/accordian/addinfo.svg"></ion-icon>
                Trust Application <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>Source Of Income<ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>
                Detail
            </div>
            <div class="slot-right">
                <div class="d-flex gap-10">
                    @if(editClientBtn && trustApplication.createButtonHide !=='Y' ){
                    <app-icon-button name="edit" toolTip="Edit" (click)="editClientDetails()"></app-icon-button>

                    }
                    @else if(editClientBtn === false){
                    @if(trustApplicationSettlor.trustApplicationSettlorId!==0){
                    <app-icon-button name="save" toolTip="Update" (click)="saveSettlor()"> </app-icon-button>
                    <app-icon-button name="refresh" toolTip="Refresh"
                        (click)="refreshTrustApplicationSettlor(this.trustApplicationSettlor.trustApplicationSettlorId,'refresh')"></app-icon-button>
                    }
                    @else {
                    <app-icon-button name="save" toolTip="Save" (click)="saveSettlor()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearSettlorData()"></app-icon-button>
                    }
                    }
                    <app-icon-button name="close" toolTip="Close"
                        (click)="dialogCloseAll();getSettlorList()"></app-icon-button>
                </div>
            </div>
        </div>
        <div class="dialog-content">
            <scroll>
                <form #benificiaryForm="ngForm" class="dialog-content-inner">
                    @if(data.showErrorMessage){
                    <div class="error-panel">
                        <app-error-message></app-error-message>
                    </div>
                    }
                    @if(this.createClientCustomer === true ){

                    <div class="pb10"></div>
                    <div class="d-flex align-items-center">
                        <div class="col-md-3 pl10">
                            <app-input-control label="Customer " [(ngModel)]="trustApplicationSettlor.customerId"
                                name="customerId" [items]="initialData.DDLValues.DDLCustomer" key="id" type="select"
                                keyName="fullName"
                                (onSelect)="openCustomerForSettlor(trustApplicationSettlor.customerId)"></app-input-control>
                        </div>
                        <div class="col-md-1">
                            <app-icon-button name="search" toolTip="Search"
                                (click)="customerSearch('settlor')"></app-icon-button>
                        </div>
                    </div>
                    }
                    @if(clientView === 'show'){
                    <form #settlorForm="ngForm">
                        <row>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Source Of Income Information</div>
                                    <div class=" box-pad">
                                        <view-label class="pb10" label="Trustee CRM No"
                                            value="{{trustApplicationSettlor.ientCustomer.customerRefNo}}"></view-label>
                                        @if(clientToggleActive){
                                        <div class="label-data">Is FPTCL</div>
                                        <div class="status-toggle d-flex align-items-center">
                                            <mat-slide-toggle class="pb10 pt10"
                                                [checked]="trustApplicationSettlor.isFptcl==='Y'"
                                                (change)="settlorIsFptcl($event)" color="primary"></mat-slide-toggle>
                                            <div>
                                                @if(trustApplicationSettlor.isFptcl==='Y'){
                                                Yes
                                                }
                                                @if(trustApplicationSettlor.isFptcl==='N'){
                                                No
                                                }
                                            </div>
                                        </div>
                                        }
                                        @else{

                                        <view-label class="pb10" label="Is FPTCL"
                                            value="{{trustApplicationSettlor.isFptcl}}"></view-label>
                                        }
                                        <!-- <view-label class="pb10" label="Client Name"
                                    value="{{trustApplicationApplicant}}"></view-label> -->
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="First Name"
                                            value="{{trustApplicationSettlor.ientCustomer.firstName}}"></view-label>
                                        <view-label class="pb10" label="Middle Name"
                                            value="{{trustApplicationSettlor.ientCustomer.middleName}}"></view-label>
                                        <view-label class="pb10" label="Last Name"
                                            value="{{trustApplicationSettlor.ientCustomer.lastName}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Date Of Birth"
                                            value="{{trustApplicationSettlor.ientCustomer.dateOfBirth | appDate}}"></view-label>
                                        <view-label class="pb10" label="Date Of Death"
                                            value="{{trustApplicationSettlor.ientCustomer.dateOfDeath |appDate}}"></view-label>
                                        <view-label class="pb10" label="Birth Reg No"
                                            value="{{trustApplicationSettlor.ientCustomer.birthRegNo}}"></view-label>
                                        <view-label class="pb10" label="Gender"
                                            value="{{trustApplicationSettlor.ientCustomer.genderDescription}}"></view-label>
                                        <view-label class="pb10" label="Nationality"
                                            value="{{trustApplicationSettlor.ientCustomer.nationalityDescription}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Email ID"
                                            value="{{trustApplicationSettlor.ientCustomer.emailId}}"></view-label>
                                        <view-label class="pb10" label="Contact No"
                                            value="{{trustApplicationSettlor.ientCustomer.contactNo}}"></view-label>
                                        <view-label class="pb10" label="Alternate Contact No"
                                            value="{{trustApplicationSettlor.ientCustomer.alternateContactNo}}"></view-label>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <view-label class="pb10" label="Father Name"
                                            value="{{trustApplicationSettlor.ientCustomer.fatherName}}"></view-label>
                                        <view-label class="pb10" label="Mother Name"
                                            value="{{trustApplicationSettlor.ientCustomer.motherName}}"></view-label>
                                        <view-label class="pb10" label="Guardian Name"
                                            value="{{trustApplicationSettlor.ientCustomer.gaurdianName}}"></view-label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Address Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Line 1"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.line1}}"
                                            class="pb10"></view-label>
                                        <view-label label="Line 2"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.line2}}"
                                            class="pb10"></view-label>
                                        <view-label label="Line 3"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.line3}}"
                                            class="pb10"></view-label>
                                        <view-label label="Province"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.provinceDescription}}"
                                            class="pb10"></view-label>
                                        <view-label label="Island"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.islandDescription}}"
                                            class="pb10"></view-label>
                                            <view-label label="Tikina"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.tikinaDescription}}"
                                            class="pb10"></view-label>
                                        <view-label label="Village"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.village}}"
                                            class="pb10"></view-label>
                                        <view-label label="Po Box No"
                                            value="{{trustApplicationSettlor.ientCustomer.iResidentialaddress.poBoxNo}}"
                                            class="pb10"></view-label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> KYC Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Birth Reg No"
                                    value="{{trustApplicationSettlor.ientCustomer.birthRegNo}}"
                                    class="pb10"></view-label>
                                        <view-label label="TIN" value="{{trustApplicationSettlor.ientCustomer.tin}}"
                                            class="pb10"></view-label>
                                        <view-label label="FNPF No"
                                            value="{{trustApplicationSettlor.ientCustomer.fnpfNo}}"
                                            class="pb10"></view-label>
                                            <view-label label="Voter ID"
                                            value={{trustApplicationSettlor.ientCustomer.voterId}}
                                            class="pb10"></view-label>
                                        <view-label label="Driving License No"
                                            value="{{trustApplicationSettlor.ientCustomer.driverLicenseNo}}"
                                            class="pb10"></view-label>

                                        <!-- <view-label label="National ID"
                                            value="{{trustApplicationSettlor.ientCustomer.nationalId}}"
                                            class="pb10"></view-label> -->

                                        <view-label label="Passport No"
                                            value="{{trustApplicationSettlor.ientCustomer.passportNo}}"
                                            class="pb10"></view-label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">Social Platform Details</div>
                                    <div class=" box-pad">
                                        <view-label label="Facebook ID"
                                            value="{{trustApplicationSettlor.ientCustomer.facebookId}}"
                                            class="pb10"></view-label>
                                        <view-label label="LinkedIn ID"
                                            value="{{trustApplicationSettlor.ientCustomer.linkedinId}}"
                                            class="pb10"></view-label>
                                        <view-label label="Whatsapp"
                                            value="{{trustApplicationSettlor.ientCustomer.whatsappNumber}}"
                                            class="pb10"></view-label>
                                        <view-label label="Viber"
                                            value="{{trustApplicationSettlor.ientCustomer.viberNumber}}"
                                            class="pb10"></view-label>
                                        <view-label label="Skype ID"
                                            value="{{trustApplicationSettlor.ientCustomer.skypeId}}"
                                            class="pb10"></view-label>

                                    </div>
                                </div>
                            </div>
                        </row>
                    </form>
                    }


                    @if(clientView === 'hide'){
                    <form #settlorForm="ngForm">
                        <row>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Source Of Income Information</div>
                                    <div class=" box-pad">
                                        <app-input-control class="pb10 " label="Settlor CRM No" name="customerRefNo"
                                            [btnClicked]="true"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.customerRefNo"></app-input-control>
                                        <div class="label-data">Is FPTCL</div>
                                        <div class="status-toggle d-flex align-items-center">
                                            <mat-slide-toggle class="pb10 pt10"
                                                [checked]="trustApplicationSettlor.isFptcl==='Y'"
                                                (change)="settlorIsFptcl($event)" color="primary"></mat-slide-toggle>
                                            <div>
                                                @if(trustApplicationSettlor.isFptcl==='Y'){
                                                Yes
                                                }
                                                @if(trustApplicationSettlor.isFptcl==='N'){
                                                No
                                                }
                                            </div>
                                        </div>


                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <!-- <app-input-control class="pb10" label="Settlor Name" name="settlorName"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationSettlor.settlorName"></app-input-control> -->
                                        <app-input-control class="pb10" label="First Name" name="firstName"
                                            [maxLength]="250" [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.firstName"></app-input-control>
                                        <app-input-control class="pb10" label="Middle Name" name="middleName"
                                            [maxLength]="250"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.middleName"></app-input-control>
                                        <app-input-control class="pb10" label="Last Name" name="lastName"
                                            [errorTrue]="errorTrue" [required]="true" [maxLength]="250"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.lastName"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Date Of Birth" name="dateOfBirth"
                                            type="date" [maxDate]="currentDate" [maxDate]="currentDate"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.dateOfBirth "></app-input-control>
                                        <app-input-control class="pb10" label="Date Of Death" name="dateOfDeath"
                                            type="date" [maxDate]="currentDate"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.dateOfDeath "></app-input-control>
                                        <app-input-control class="pb10" label="Birth Reg No" name="birthRegNo"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.birthRegNo"></app-input-control>
                                        <app-input-control class="pb10" label="Gender" name="genderValue"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [items]="initialData.DDLValues.DDLGender" key="constant"
                                            keyName="description" type="select"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.genderValue"></app-input-control>
                                        <app-input-control class="pb10" label="Nationality" name="nationalityValue"
                                            [items]="initialData.DDLValues.DDLNationality" key="constant"
                                            keyName="description" type="select" defaultOption="--Select--"
                                            [errorTrue]="errorTrue" [required]="true"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.nationalityValue"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Email ID" name="emailId" type="email"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.emailId"></app-input-control>
                                        <app-input-control class="pb10" label="Contact No" name="contactNo"
                                            type="number" [errorTrue]="errorTrue" [required]="true" [minLength]="5"
                                            [maxLength]="15"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.contactNo"></app-input-control>
                                        <app-input-control class="pb10" label="Alternate Contact No"
                                            name="alternateContactNo" type="number" [minLength]="5" [maxLength]="15"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.alternateContactNo"></app-input-control>
                                        <div class="bottom-border"></div>
                                        <div class="pb10"></div>
                                        <app-input-control class="pb10" label="Father Name"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.fatherName"
                                            name="fatherName"></app-input-control>
                                        <app-input-control class="pb10" label="Mother Name"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.motherName"
                                            name="motherName"></app-input-control>
                                        <app-input-control class="pb10" label="Guardian Name"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.gaurdianName"
                                            name="gaurdianName"></app-input-control>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header "> Address Details</div>
                                    <div class=" box-pad">
                                        <app-address-edit
                                            [ientAddress]="trustApplicationSettlor.ientCustomer.iResidentialaddress"
                                            [errorTrue]="errorTrue" type="residential"></app-address-edit>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">
                                        KYC Details <span>(Any one field is Mandatory)</span>
                                    </div>
                                    <div class="box-pad">
                                        <div class="col-md-12"><app-input-control type="text" label="Birth Reg No"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.birthRegNo"
                                            name="birthRegNo  " [maxLength]="20"
                                            [errorTrue]="trustApplicationSettlor.ientCustomer.tin===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.passportNo==='' && errorTrue "
                                            [required]="trustApplicationSettlor.ientCustomer.tin===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.passportNo==='' " />
                                    </div>
                                    <div class="col-md-12"><app-input-control type="text" label="TIN"
                                        [(ngModel)]="trustApplicationSettlor.ientCustomer.tin" name="tin "
                                        [maxLength]="20"
                                        [errorTrue]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo===''&& trustApplicationSettlor.ientCustomer.birthRegNo==='' && errorTrue "
                                        [required]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo===''&& trustApplicationSettlor.ientCustomer.birthRegNo==='' "></app-input-control>
                                </div>
                                        <div class="col-md-12"><app-input-control type="text" label="FNPF No"
                                                [errorTrue]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' "
                                                [(ngModel)]="trustApplicationSettlor.ientCustomer.fnpfNo"
                                                [maxLength]="20" name="fnpfNo "></app-input-control>
                                        </div>
                                        <div class="col-md-12"><app-input-control type="text" label="Voter ID"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.voterId"
                                            name="voterId " [maxLength]="20"
                                            [errorTrue]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' && errorTrue "
                                            [required]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' "></app-input-control>
                                    </div>
                                        <div class="col-md-12"><app-input-control type="text" label="Driving License No"
                                                [(ngModel)]="trustApplicationSettlor.ientCustomer.driverLicenseNo"
                                                name="driverLicenseNo " [maxLength]="20"
                                                [errorTrue]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>

                                        <!-- <div class="col-md-12">
                                            {{trustApplicationSettlor.ientCustomer.nationalId}}<app-input-control
                                                type="text" label="National ID"
                                                [(ngModel)]="trustApplicationSettlor.ientCustomer.nationalId"
                                                name="nationalId " [maxLength]="20"
                                                [errorTrue]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' && errorTrue "
                                                [required]="trustApplicationSettlor.ientCustomer.passportNo===''&& trustApplicationSettlor.ientCustomer.tin===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo===''&& trustApplicationSettlor.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div> -->

                                        <div class="col-md-12"><app-input-control type="text" label="Passport No"
                                                [(ngModel)]="trustApplicationSettlor.ientCustomer.passportNo"
                                                name="passportNo " [maxLength]="20"
                                                [errorTrue]="trustApplicationSettlor.ientCustomer.tin===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo===''&& trustApplicationSettlor.ientCustomer.birthRegNo===''  && errorTrue "
                                                [required]="trustApplicationSettlor.ientCustomer.tin===''&& trustApplicationSettlor.ientCustomer.driverLicenseNo==='' && trustApplicationSettlor.ientCustomer.voterId==='' && trustApplicationSettlor.ientCustomer.fnpfNo==='' && trustApplicationSettlor.ientCustomer.birthRegNo==='' "></app-input-control>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="box h100">
                                    <div class="box-header ">Social Platform Details</div>
                                    <div class=" box-pad">
                                        <app-input-control label="Facebook ID" name="facebookId"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.facebookId"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="LinkedIn ID" name="linkedinId"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.linkedinId"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Whatsapp" name="whatsappNumber"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.whatsappNumber"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Viber" name="viberNumber"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.viberNumber"
                                            class="pb10"></app-input-control>
                                        <app-input-control label="Skype ID" name="skypeId"
                                            [(ngModel)]="trustApplicationSettlor.ientCustomer.skypeId"
                                            class="pb10"></app-input-control>

                                    </div>
                                </div>
                            </div>
                        </row>
                    </form>
                    }
                    <div class="mb20"></div>
                </form>
            </scroll>


        </div>
    </div>
</ng-template>

<ng-template #notesDialog>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title">
                <ion-icon class="fos-20" src="assets/icons/finance.svg"></ion-icon>
                Trust Application > Detail > Add Notes
            </div>
            <div class="slot-right">
                <div class="btn-group">
                    <app-icon-button name="save" toolTip="Save" (click)="saveNotes()"></app-icon-button>
                    <app-icon-button name="clear" toolTip="Clear" (click)="clearNotes()"></app-icon-button>
                    <app-icon-button name="close" toolTip="Close" (click)="dialogClose()"></app-icon-button>
                </div>
            </div>
        </div>
        <div class="dialog-content">
            <div class="dialog-content-inner h100">
                <form #x="ngForm">
                    @if(data.showErrorMessage){
                    <div class="error-panel">
                        <app-error-message></app-error-message>
                    </div>
                    }
                    <form #notesForm="ngForm">
                        <row>
                            <div class="col-md-4">
                                <app-input-control label="Action Status" type="select"
                                    [(ngModel)]="trustApplicationNotes.actionStatusValue" defaultOption="--Select--"
                                    [items]="initialData.DDLValues.DDLActionStatus" key="constant" keyName="description"
                                    name="actionStatusValue" [errorTrue]="errorTrue"
                                    [required]="true"></app-input-control>
                            </div>
                            <div class="col-md-4">
                                <app-input-control label="Application Status" type="select" defaultOption="All"
                                    [(ngModel)]="trustApplicationNotes.statusValue" name="statusValue"
                                    [items]="initialData.DDLValues.DDLApplicationStatus" key="constant"
                                    keyName="description" [errorTrue]="errorTrue" [required]="true"></app-input-control>
                            </div>
                            <div class="col-md-4">
                                <view-label label="Application Stage"
                                    value="{{trustApplication.applicationStageDescription}}"></view-label>
                            </div>
                            <div class="col-md-12 mb26">
                                <app-input-control type="textarea" className="notes" [errorTrue]="errorTrue"
                                    [(ngModel)]="trustApplicationNotes.notes" name="notes" [maxLength]="250"
                                    [required]="true" label="Notes"></app-input-control>
                            </div>
                        </row>
                    </form>

                </form>
            </div>
        </div>
    </div>
</ng-template>


<ng-template #customerSearchDialog>
    <div class="dialog-container">
        <div class="dialog-header">
            <div class="dialog-title">Customer <ion-icon class="arrow-icon" src="assets/icons/arrow.svg"></ion-icon>List
            </div>
            <div class="slot-right">
                <div class="btn-group">

                    <app-icon-button name="close" (click)="dialogClose('customerList')"></app-icon-button>
                </div>
            </div>
        </div>
        <div class="mb20"></div>
        <div class="dialog-content">
            <div class="content-wrapper">
                <app-table [pagination]="pagination" [columns]="customerColumns" [columnsName]="customerColumnsName"
                    (pageChanged)="pageChanged($event)" [dataSource]="customertableData" columnID="customerId"
                    [hideSelectAll]="true">


                    <ng-template cellDef="customerRefNo" let-element>
                        <div (click)="getRefNo(element.customerId,'customerList')" class="pointer text-underline">
                            {{element.customerRefNo}}</div>
                    </ng-template>
                    <ng-template cellDef="statusdescription" let-element>
                        <div class="status status-{{element.statusValue}}">{{element.statusdescription}}</div>
                    </ng-template>
                    <ng-template cellDef="customerName" let-element>
                        @if(element.customerName.length>25){
                        <div class="ellipse-text" matTooltip="{{element.customerName}}">{{element.customerName}}</div>
                        }
                        @else{
                        <div>{{element.customerName}}</div>
                        }
                    </ng-template>
                    <ng-template cellHeaderDef="dateOfBrith">
                        <div class="w100px">DOB</div>
                    </ng-template>
                    <ng-template cellDef="dateOfBrith" let-element>
                        <div class="w100px">{{element.dateOfBrith | appDate}}</div>
                    </ng-template>

                    <ng-template cellDef="emailId" let-element>
                        @if(element.emailId.length>25){
                        <div class="ellipse-text" matTooltip="{{element.emailId}}">{{element.emailId}}</div>
                        }
                        @else{
                        <div>{{element.emailId}}</div>
                        }
                    </ng-template>
                    <ng-template #slotLeft>
                        <app-search #appSearch [searchTemplate]=" searchTemplate"></app-search>
                    </ng-template>

                </app-table>
            </div>
        </div>
    </div>

    <ng-template #searchTemplate>
        <div class="dialog-container">
            <div class="dialog-header">
                <div class="dialog-title">Customer Search</div>
                <div class="slot-right">
                    <div class="btn-group">
                        <app-icon-button name="search" toolTip="Search" (click)="onSearch()"></app-icon-button>
                        <app-icon-button name="clear" toolTip="Clear" (click)="clear()"></app-icon-button>
                        <app-icon-button name="close" (click)="appSearch.close()"></app-icon-button>
                    </div>
                </div>
            </div>
            <div class="dialog-content">
                <scroll>
                    <div class="dialog-content-inner">
                        <form #l="ngForm" (submit)="onSearch()">
                            <row>
                                <div class="col-md-3 border-right">
                                    <row>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="Customer No"
                                                [(ngModel)]="customer.customerRefNo" name="customerRefNo"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="select" defaultOption="--Select--"
                                                label="Customer Status" [(ngModel)]="customer.customerStatusValue"
                                                name="customerStatusValue"
                                                [items]="initialData.DDLValues.DDLCustomerStatus" key="constant"
                                                keyName="description" (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                    </row>
                                </div>
                                <div class="col-md-3 border-right">
                                    <row>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="First Name"
                                                [(ngModel)]="customer.firstName" name="firstName" [maxLength]="250"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="Middle Name"
                                                [(ngModel)]="customer.middleName" name="middleName" [maxLength]="250"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="Last Name" [maxLength]="250"
                                                [(ngModel)]="customer.lastName" name="lastName"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="select" defaultOption="--Select--" label="Gender"
                                                [(ngModel)]="customer.genderValue" name="genderValue"
                                                [items]="initialData.DDLValues.DDLGender" key="constant"
                                                keyName="description" placeholder="Select Gender"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="date" label="Date of Birth "
                                                [(ngModel)]="customer.dateOfBirth" name="dateOfBirth"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                    </row>
                                </div>
                                <div class="col-md-3 border-right">
                                    <row>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="email" label="Email ID"
                                                [(ngModel)]="customer.emailId" name="emailId"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="number" label="Contact Number"  [minLength]="5" [maxLength]="15" [(ngModel)]="customer.contactNo" name="contactNo"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                    </row>
                                </div>
                                <div class="col-md-3">
                                    <row>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="TIN No" [(ngModel)]="customer.tin"
                                                name="tin" (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="FNPF No" [(ngModel)]="customer.pfNo"
                                                name="pfNo" (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="Voter ID"
                                                [(ngModel)]="customer.voterId" name="voterId"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div>
                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="Driving License No"
                                                [(ngModel)]="customer.drivingLicenseNo"
                                                name="drivingLicenseNo"></app-input-control>
                                        </div>

                                        <!-- <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="National ID"
                                                [(ngModel)]="customer.nationalId" name="nationalId"
                                                (onEnter)="onSearch()"></app-input-control>
                                        </div> -->

                                        <div class="col-md-12 mb26">
                                            <app-input-control type="text" label="Passport ID"
                                                [(ngModel)]="customer.passportNo" name="passportNo"
                                                (onEnter)="onSearch()"> </app-input-control>
                                        </div>
                                    </row>
                                </div>
                            </row>
                        </form>
                    </div>
                </scroll>
            </div>
        </div>
    </ng-template>
</ng-template>
